{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/apiHook.ts"],"sourcesContent":["import axios from \"axios\";\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"https://todo-app.pioneeralpha.com\";\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const setAuthToken = (token?: string) => {\r\n  if (token) api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  else delete api.defaults.headers.common[\"Authorization\"];\r\n};\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;;;AACiB;AADjB;;AACA,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,oBAAoB,IAAI;AAErD,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,eAAe,CAAC;IAC3B,IAAI,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;SACtE,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB;AAC1D;uCAEe"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\r\nimport api, { setAuthToken } from \"./apiHook\";\r\n\r\nconst TOKEN_KEY = \"todo_token\";\r\n\r\nexport const saveToken = (token: string) => {\r\n  localStorage.setItem(TOKEN_KEY, token);\r\n  setAuthToken(token);\r\n};\r\n\r\nexport const loadToken = () => {\r\n  const t = localStorage.getItem(TOKEN_KEY);\r\n  if (t) setAuthToken(t);\r\n  return t;\r\n};\r\n\r\nexport const clearToken = () => {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  setAuthToken(undefined);\r\n};\r\n\r\n// API calls matching Django backend endpoints\r\nexport const signup = async (data: {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/signup/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const login = async (data: { email: string; password: string }) => {\r\n  // API uses email field for login\r\n  const res = await api.post(\"/api/auth/login/\", {\r\n    email: data.email,\r\n    password: data.password,\r\n  });\r\n  // Django JWT returns { access: \"...\", refresh: \"...\" }\r\n  return res.data;\r\n};\r\n\r\nexport const refreshToken = async (refresh: string) => {\r\n  const res = await api.post(\"/api/auth/refresh/\", { refresh });\r\n  return res.data;\r\n};\r\n\r\nexport const getProfile = async () => {\r\n  const res = await api.get(\"/api/users/me/\");\r\n  return res.data;\r\n};\r\n\r\nexport const changePassword = async (data: {\r\n  old_password: string;\r\n  new_password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/change-password/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const fetchTodos = async () => {\r\n  const res = await api.get(\"/api/todos/\");\r\n  // API returns paginated response with results array\r\n  return res.data.results || res.data;\r\n};\r\n\r\nexport const createTodo = async (payload: {\r\n  title: string;\r\n  description?: string;\r\n  priority?: \"extreme\" | \"moderate\" | \"low\";\r\n  todo_date?: string;\r\n}) => {\r\n  const res = await api.post(\"/api/todos/\", payload);\r\n  return res.data;\r\n};\r\n\r\nexport const updateTodo = async (id: string, payload: any) => {\r\n  const res = await api.patch(`/api/todos/${id}/`, payload);\r\n  return res.data;\r\n};\r\n\r\nexport const deleteTodo = async (id: string) => {\r\n  const res = await api.delete(`/api/todos/${id}/`);\r\n  return res.data;\r\n};\r\n\r\n// Reorder todos by updating position field\r\nexport const reorderTodos = async (todos: Array<{ id: string | number; position: number }>) => {\r\n  // Update each todo's position\r\n  const promises = todos.map((todo, index) =>\r\n    updateTodo(String(todo.id), { position: index + 1 })\r\n  );\r\n  await Promise.all(promises);\r\n};\r\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACd;;AAEA,MAAM,YAAY;AAEX,MAAM,YAAY,CAAC;IACxB,aAAa,OAAO,CAAC,WAAW;IAChC,IAAA,iIAAY,EAAC;AACf;AAEO,MAAM,YAAY;IACvB,MAAM,IAAI,aAAa,OAAO,CAAC;IAC/B,IAAI,GAAG,IAAA,iIAAY,EAAC;IACpB,OAAO;AACT;AAEO,MAAM,aAAa;IACxB,aAAa,UAAU,CAAC;IACxB,IAAA,iIAAY,EAAC;AACf;AAGO,MAAM,SAAS,OAAO;IAM3B,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,sBAAsB;IACjD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,QAAQ,OAAO;IAC1B,iCAAiC;IACjC,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,oBAAoB;QAC7C,OAAO,KAAK,KAAK;QACjB,UAAU,KAAK,QAAQ;IACzB;IACA,uDAAuD;IACvD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,sBAAsB;QAAE;IAAQ;IAC3D,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa;IACxB,MAAM,MAAM,MAAM,4HAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,iBAAiB,OAAO;IAInC,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,+BAA+B;IAC1D,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa;IACxB,MAAM,MAAM,MAAM,4HAAG,CAAC,GAAG,CAAC;IAC1B,oDAAoD;IACpD,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI;AACrC;AAEO,MAAM,aAAa,OAAO;IAM/B,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,eAAe;IAC1C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO,IAAY;IAC3C,MAAM,MAAM,MAAM,4HAAG,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,EAAE;IACjD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,MAAM,MAAM,4HAAG,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;IAChD,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,eAAe,OAAO;IACjC,8BAA8B;IAC9B,MAAM,WAAW,MAAM,GAAG,CAAC,CAAC,MAAM,QAChC,WAAW,OAAO,KAAK,EAAE,GAAG;YAAE,UAAU,QAAQ;QAAE;IAEpD,MAAM,QAAQ,GAAG,CAAC;AACpB"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/app/%28auth%29/signup/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { signup } from \"../../../lib/auth\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport { AiOutlineEye, AiOutlineEyeInvisible } from \"react-icons/ai\";\r\n\r\ntype FormData = {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  password: string;\r\n  confirm_password: string;\r\n};\r\n\r\nexport default function SignupPage() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm<FormData>();\r\n\r\n  const router = useRouter();\r\n  const [error, setError] = useState<string>(\"\");\r\n\r\n  const password = watch(\"password\");\r\n\r\n  // show/hide password\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showCPassword, setShowCPassword] = useState(false);\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    setError(\"\");\r\n    try {\r\n      const { confirm_password, ...signupData } = data;\r\n      await signup(signupData);\r\n      router.push(\"/login\");\r\n    } catch (err: any) {\r\n      setError(\r\n        err?.response?.data?.detail ||\r\n          err?.response?.data?.message ||\r\n          err?.message ||\r\n          \"Signup failed\"\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-white\">\r\n      <div className=\"bg-secondary h-screen hidden md:flex w-1/2 items-center justify-center\">\r\n        <Image\r\n          alt=\"Picture of the signupBanner\"\r\n          src=\"/images/signup/image.png\"\r\n          height={344}\r\n          width={613}\r\n          loading=\"lazy\"\r\n          quality={100}\r\n          className=\"flex justify-center items-center\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"flex w-full md:w-1/2 items-center justify-center p-6 md:p-12\">\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"bg-white p-8  w-full max-w-md\"\r\n        >\r\n          <h2 className=\"text-[30px] font-bold font-inter mb-0 text-center\">\r\n            Create your account\r\n          </h2>\r\n          <p className=\"text-[16px] font-inter mb-6 text-center text-[#4B5563]\">\r\n            Start managing your tasks efficiently\r\n          </p>\r\n\r\n          {/* First & Last Name */}\r\n          <div className=\"grid grid-cols-2 gap-4 mb-2\">\r\n            <label className=\"block\">\r\n              <p className=\"font-medium text-[14px]\">First Name</p>\r\n              <input\r\n                {...register(\"first_name\", {\r\n                  pattern: {\r\n                    value: /^[A-Za-z ]+$/,\r\n                    message: \"Please enter a valid name format.\",\r\n                  },\r\n                })}\r\n                className=\"w-full mt-1 p-2 border rounded\"\r\n              />\r\n              {errors.first_name && (\r\n                <p className=\"text-red-500 text-xs mt-1\">\r\n                  {errors.first_name.message}\r\n                </p>\r\n              )}\r\n            </label>\r\n\r\n            <label className=\"block\">\r\n              <p className=\"font-medium text-[14px]\">Last Name</p>\r\n\r\n              <input\r\n                {...register(\"last_name\", {\r\n                  pattern: {\r\n                    value: /^[A-Za-z ]+$/,\r\n                    message: \"Please enter a valid name format.\",\r\n                  },\r\n                })}\r\n                className=\"w-full mt-1 p-2 border rounded\"\r\n              />\r\n              {errors.last_name && (\r\n                <p className=\"text-red-500 text-xs mt-1\">\r\n                  {errors.last_name.message}\r\n                </p>\r\n              )}\r\n            </label>\r\n          </div>\r\n\r\n          {/* Email */}\r\n          <label className=\"block mb-2\">\r\n            <p className=\"font-medium text-[14px]\"> Email</p>\r\n\r\n            <input\r\n              {...register(\"email\", {\r\n                required: \"Email is required\",\r\n                pattern: {\r\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                  message: \"Invalid email address\",\r\n                },\r\n              })}\r\n              type=\"email\"\r\n              className=\"w-full mt-1 p-2 border rounded\"\r\n            />\r\n            {errors.email && (\r\n              <p className=\"text-red-500 text-xs mt-1\">\r\n                {errors.email.message}\r\n              </p>\r\n            )}\r\n          </label>\r\n\r\n          {/* Password */}\r\n          <label className=\"block mb-2\">\r\n            <p className=\"font-medium text-[14px]\">Password</p>\r\n\r\n            <div className=\"relative\">\r\n              <input\r\n                {...register(\"password\", {\r\n                  required: \"4 characters minimum.\",\r\n                  minLength: {\r\n                    value: 4,\r\n                    message: \"4 characters minimum.\",\r\n                  },\r\n                })}\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                className=\"w-full mt-1 p-2 border rounded\"\r\n              />\r\n\r\n              <span\r\n                className=\"absolute right-3 top-3 cursor-pointer text-gray-600\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n              >\r\n                {showPassword ? (\r\n                  <AiOutlineEyeInvisible size={20} />\r\n                ) : (\r\n                  <AiOutlineEye size={20} />\r\n                )}\r\n              </span>\r\n            </div>\r\n            {errors.password && (\r\n              <p className=\"text-red-500 text-xs mt-1\">\r\n                {errors.password.message}\r\n              </p>\r\n            )}\r\n          </label>\r\n\r\n          {/* Confirm Password */}\r\n          <label className=\"block mb-4\">\r\n            <p className=\"font-medium text-[14px]\">Confirm Password</p>\r\n\r\n            <div className=\"relative\">\r\n              <input\r\n                {...register(\"confirm_password\", {\r\n                  required: \"Please confirm your password\",\r\n                  validate: (value) =>\r\n                    value === password || \"Passwords do not match\",\r\n                })}\r\n                type={showCPassword ? \"text\" : \"password\"}\r\n                className=\"w-full mt-1 p-2 border rounded\"\r\n              />\r\n\r\n              <span\r\n                className=\"absolute right-3 top-3 cursor-pointer text-gray-600\"\r\n                onClick={() => setShowCPassword(!showCPassword)}\r\n              >\r\n                {showCPassword ? (\r\n                  <AiOutlineEyeInvisible size={20} />\r\n                ) : (\r\n                  <AiOutlineEye size={20} />\r\n                )}\r\n              </span>\r\n            </div>\r\n            {errors.confirm_password && (\r\n              <p className=\"text-red-500 text-xs mt-1\">\r\n                {errors.confirm_password.message}\r\n              </p>\r\n            )}\r\n          </label>\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full py-2 rounded-md bg-[#5272FF] text-white mb-4\"\r\n          >\r\n            Sign Up\r\n          </button>\r\n\r\n          <p className=\"text-center text-sm text-gray-600\">\r\n            Already have an account?{\" \"}\r\n            <a\r\n              href=\"/login\"\r\n              className=\"text-primary hover:underline font-medium\"\r\n            >\r\n              Sign in\r\n            </a>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}