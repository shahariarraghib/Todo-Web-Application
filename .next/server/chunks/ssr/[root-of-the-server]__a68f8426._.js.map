{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../components/LoginPage.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { login as loginAPI, getProfile } from \"../lib/auth\";\r\nimport { setAuthToken } from \"../lib/apiHook\";\r\nimport Image from \"next/image\";\r\n\r\ntype FormData = { email: string; password: string };\r\n\r\nexport default function LoginPage() {\r\n  const { register, handleSubmit } = useForm<FormData>();\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    try {\r\n      const response = await loginAPI({\r\n        email: data.email,\r\n        password: data.password,\r\n      });\r\n\r\n      if (auth && response.access) {\r\n        const token = response.access;\r\n        setAuthToken(token);\r\n\r\n        try {\r\n          const userData = await getProfile();\r\n          const user = {\r\n            id: userData.id || userData.pk || \"\",\r\n            name: userData.name || userData.username || data.email,\r\n            email: userData.email || data.email,\r\n          };\r\n\r\n          auth.login(user, token);\r\n          router.push(\"/todos\");\r\n        } catch {\r\n          const user = {\r\n            id: \"\",\r\n            name: data.email.split(\"@\")[0],\r\n            email: data.email,\r\n          };\r\n          auth.login(user, token);\r\n          router.push(\"/todos\");\r\n        }\r\n      } else {\r\n        alert(\"Invalid response from server\");\r\n      }\r\n    } catch (err: any) {\r\n      alert(err?.response?.data?.detail || err?.message || \"Login failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-white\">\r\n      <div className=\"h-screen hidden md:flex w-1/2 secondary bg-secondary items-center justify-center\">\r\n        <Image\r\n          alt=\"Picture of the signupBanner\"\r\n          src=\"/images/login/loginBanner.png\"\r\n          height={344}\r\n          width={613}\r\n          loading=\"lazy\"\r\n          quality={100}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"flex w-full md:w-1/2 items-center justify-center p-6 md:p-12\">\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"bg-white p-8 w-full max-w-md\"\r\n        >\r\n          <h2 className=\"text-[30px] font-bold font-inter mb-0 text-center\">\r\n            Create your account\r\n          </h2>\r\n\r\n          <p className=\"text-[16px] font-inter mb-6 text-center text-[#4B5563]\">\r\n            Start managing your tasks efficiently\r\n          </p>\r\n\r\n     \r\n          <label className=\"block mb-2\">\r\n            <p className=\"font-medium text-[14px]\">Email</p>\r\n            <input\r\n              {...register(\"email\")}\r\n              type=\"email\"\r\n              required\r\n              placeholder=\"Enter your email\"\r\n              className=\"w-full mt-1 p-2 border rounded-md placeholder:text-[#8CA3CD]\"\r\n            />\r\n          </label>\r\n\r\n        \r\n          <label className=\"block mb-2\">\r\n            <p className=\"font-medium text-[14px]\">Password</p>\r\n            <input\r\n              {...register(\"password\")}\r\n              type=\"password\"\r\n              required\r\n              placeholder=\"Enter your password \"\r\n              className=\"w-full mt-1 p-2 border rounded-md placeholder:text-[#8CA3CD]\"\r\n            />\r\n          </label>\r\n\r\n          <div className=\"flex items-center justify-between mb-4 mt-4\">\r\n            <label className=\"flex items-center gap-2 text-sm text-gray-700\">\r\n              <input type=\"checkbox\" className=\"h-4 w-4\" />\r\n              Remember me\r\n            </label>\r\n\r\n            <a href=\"#\" className=\"text-primary text-sm hover:underline\">\r\n              Forgot your password?\r\n            </a>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full py-2 rounded-md bg-[#5272FF] text-white mb-4\"\r\n          >\r\n            Log In\r\n          </button>\r\n\r\n          <p className=\"text-center text-sm text-gray-600\">\r\n            Don&apos;t have an account?{\" \"}\r\n            <a\r\n              href=\"/signup\"\r\n              className=\"text-primary hover:underline font-medium\"\r\n            >\r\n              Register now\r\n            </a>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactDOM"],"mappings":"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","ignoreList":[0,1,2,3]}