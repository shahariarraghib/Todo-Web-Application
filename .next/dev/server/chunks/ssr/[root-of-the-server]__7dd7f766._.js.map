{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/apiHook.ts"],"sourcesContent":["import axios from \"axios\";\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"https://todo-app.pioneeralpha.com\";\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const setAuthToken = (token?: string) => {\r\n  if (token) api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  else delete api.defaults.headers.common[\"Authorization\"];\r\n};\r\n\r\n// Add request interceptor to ensure token is always included\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    // Try to get token from localStorage (check both possible keys)\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"token\") || localStorage.getItem(\"todo_token\");\r\n      if (token && !config.headers[\"Authorization\"]) {\r\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n      }\r\n    }\r\n    \r\n    // If data is FormData, remove Content-Type header to let axios set it automatically with boundary\r\n    if (config.data instanceof FormData) {\r\n      delete config.headers[\"Content-Type\"];\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AACA,MAAM,WAAW,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AAErD,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,eAAe,CAAC;IAC3B,IAAI,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;SACtE,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB;AAC1D;AAEA,6DAA6D;AAC7D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,gEAAgE;IAChE;;IAOA,kGAAkG;IAClG,IAAI,OAAO,IAAI,YAAY,UAAU;QACnC,OAAO,OAAO,OAAO,CAAC,eAAe;IACvC;IAEA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\r\nimport api, { setAuthToken } from \"./apiHook\";\r\n\r\nconst TOKEN_KEY = \"todo_token\";\r\n\r\nexport const saveToken = (token: string) => {\r\n  localStorage.setItem(TOKEN_KEY, token);\r\n  setAuthToken(token);\r\n};\r\n\r\nexport const loadToken = () => {\r\n  const t = localStorage.getItem(TOKEN_KEY);\r\n  if (t) setAuthToken(t);\r\n  return t;\r\n};\r\n\r\nexport const clearToken = () => {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  setAuthToken(undefined);\r\n};\r\n\r\n// API calls matching Django backend endpoints\r\nexport const signup = async (data: {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/signup/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const login = async (data: { email: string; password: string }) => {\r\n  // API uses email field for login\r\n  const res = await api.post(\"/api/auth/login/\", {\r\n    email: data.email,\r\n    password: data.password,\r\n  });\r\n  // Django JWT returns { access: \"...\", refresh: \"...\" }\r\n  return res.data;\r\n};\r\n\r\nexport const refreshToken = async (refresh: string) => {\r\n  const res = await api.post(\"/api/auth/refresh/\", { refresh });\r\n  return res.data;\r\n};\r\n\r\nexport const getProfile = async () => {\r\n  const res = await api.get(\"/api/users/me/\");\r\n  return res.data;\r\n};\r\n\r\nexport const changePassword = async (data: {\r\n  old_password: string;\r\n  new_password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/change-password/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const updateProfile = async (data: {\r\n  first_name?: string;\r\n  last_name?: string;\r\n  email?: string;\r\n  address?: string;\r\n  contact_number?: string;\r\n  birthday?: string;\r\n  profile_image?: File;\r\n}) => {\r\n  // Ensure token is loaded before making request\r\n  const token = loadToken() || (typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null);\r\n  if (!token) {\r\n    throw new Error(\"No authentication token found\");\r\n  }\r\n\r\n  // Ensure token is set in axios instance\r\n  setAuthToken(token);\r\n\r\n  const formData = new FormData();\r\n  \r\n  // Append all fields, including empty strings to clear fields if needed\r\n  if (data.first_name !== undefined) formData.append(\"first_name\", data.first_name);\r\n  if (data.last_name !== undefined) formData.append(\"last_name\", data.last_name);\r\n  if (data.email !== undefined) formData.append(\"email\", data.email);\r\n  if (data.address !== undefined) formData.append(\"address\", data.address);\r\n  if (data.contact_number !== undefined) formData.append(\"contact_number\", data.contact_number);\r\n  if (data.birthday !== undefined) formData.append(\"birthday\", data.birthday);\r\n  \r\n  // Append file if it exists and is a File object\r\n  if (data.profile_image && data.profile_image instanceof File) {\r\n    formData.append(\"profile_image\", data.profile_image, data.profile_image.name);\r\n  }\r\n\r\n  // Send FormData - axios will automatically set Content-Type to multipart/form-data with boundary\r\n  // The interceptor will handle removing the default Content-Type header\r\n  const res = await api.patch(\"/api/users/me/\", formData);\r\n  return res.data;\r\n};\r\n\r\nexport const fetchTodos = async () => {\r\n  const res = await api.get(\"/api/todos/\");\r\n  // API returns paginated response with results array\r\n  return res.data.results || res.data;\r\n};\r\n\r\nexport const createTodo = async (payload: {\r\n  title: string;\r\n  description?: string;\r\n  priority?: \"extreme\" | \"moderate\" | \"low\";\r\n  todo_date?: string;\r\n}) => {\r\n  const res = await api.post(\"/api/todos/\", payload);\r\n  return res.data;\r\n};\r\n\r\nexport const updateTodo = async (id: string, payload: any) => {\r\n  const res = await api.patch(`/api/todos/${id}/`, payload);\r\n  return res.data;\r\n};\r\n\r\nexport const deleteTodo = async (id: string) => {\r\n  const res = await api.delete(`/api/todos/${id}/`);\r\n  return res.data;\r\n};\r\n\r\n// Reorder todos by updating position field\r\nexport const reorderTodos = async (todos: Array<{ id: string | number; position: number }>) => {\r\n  // Update each todo's position\r\n  const promises = todos.map((todo, index) =>\r\n    updateTodo(String(todo.id), { position: index + 1 })\r\n  );\r\n  await Promise.all(promises);\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/TodoList.tsx"],"sourcesContent":["// components/TodoList.tsx\r\n\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { DndContext, closestCenter, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\r\nimport {\r\n  arrayMove,\r\n  SortableContext,\r\n  verticalListSortingStrategy,\r\n  useSortable,\r\n} from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport {\r\n  fetchTodos,\r\n  createTodo,\r\n  updateTodo,\r\n  deleteTodo,\r\n  reorderTodos,\r\n} from \"../lib/auth\"; // or lib/apiClient functions\r\n\r\ntype Todo = {\r\n  id: string | number;\r\n  title: string;\r\n  description?: string;\r\n  priority?: \"extreme\" | \"moderate\" | \"low\";\r\n  is_completed?: boolean;\r\n  position?: number;\r\n  todo_date?: string;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n};\r\n\r\nfunction SortableItem({ todo, onEdit, onDelete, onToggleComplete }: { todo: Todo; onEdit: (t: Todo) => void; onDelete: (id: string) => void; onToggleComplete: (t: Todo) => void }) {\r\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ id: todo.id });\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n  };\r\n\r\n  const priorityColors = {\r\n    extreme: \"bg-red-100 text-red-800 border-red-300\",\r\n    moderate: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\r\n    low: \"bg-green-100 text-green-800 border-green-300\",\r\n  };\r\n\r\n  return (\r\n    <div \r\n      ref={setNodeRef} \r\n      style={style} \r\n      className={`p-4 bg-white rounded-lg shadow-sm border border-gray-200 mb-3 flex justify-between items-start hover:shadow-md transition-all ${todo.is_completed ? \"opacity-60 bg-gray-50\" : \"\"}`}\r\n    >\r\n      <div className=\"flex-1 min-w-0\">\r\n        <div {...attributes} {...listeners} className=\"cursor-grab\">\r\n          <div className=\"flex items-center gap-3 flex-wrap\">\r\n            <button\r\n              onClick={() => onToggleComplete(todo)}\r\n              className={`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${\r\n                todo.is_completed \r\n                  ? \"bg-green-500 border-green-500\" \r\n                  : \"border-gray-300 hover:border-green-400\"\r\n              }`}\r\n            >\r\n              {todo.is_completed && (\r\n                <svg className=\"w-3 h-3 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n              )}\r\n            </button>\r\n            <div className={`text-lg font-semibold text-gray-800 ${todo.is_completed ? \"line-through text-gray-400\" : \"\"}`}>\r\n              {todo.title}\r\n            </div>\r\n          {todo.priority && (\r\n            <span className={`text-xs px-3 py-1 rounded-full border font-medium ${priorityColors[todo.priority] || priorityColors.moderate}`}>\r\n              {todo.priority.toUpperCase()}\r\n            </span>\r\n          )}\r\n          {todo.is_completed && (\r\n            <span className=\"text-xs px-3 py-1 rounded-full bg-green-100 text-green-800 border border-green-300 font-medium\">\r\n              âœ“ Completed\r\n            </span>\r\n          )}\r\n          </div>\r\n          {todo.description && (\r\n            <div className=\"text-sm text-gray-600 mt-2 ml-8\">{todo.description}</div>\r\n          )}\r\n          {todo.todo_date && (\r\n            <div className=\"text-xs text-gray-500 mt-2 ml-8 flex items-center gap-1\">\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n              {new Date(todo.todo_date).toLocaleDateString()}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex gap-2 ml-4 flex-shrink-0\">\r\n        <button\r\n          onClick={() => onEdit(todo)}\r\n          className=\"px-3 py-2 text-sm border border-blue-300 rounded-lg hover:bg-blue-50 text-blue-700 font-medium transition-colors flex items-center gap-1\"\r\n        >\r\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n          </svg>\r\n          Edit\r\n        </button>\r\n        <button\r\n          onClick={() => onDelete(String(todo.id))}\r\n          className=\"px-3 py-2 text-sm border border-red-300 rounded-lg hover:bg-red-50 text-red-700 font-medium transition-colors flex items-center gap-1\"\r\n        >\r\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n          </svg>\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function TodoList() {\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n  const [todos, setTodos] = useState<Todo[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingTodo, setEditingTodo] = useState<Todo | null>(null);\r\n  const [editForm, setEditForm] = useState({ title: \"\", description: \"\", priority: \"moderate\" as const, todo_date: \"\" });\r\n  const sensors = useSensors(useSensor(PointerSensor));\r\n\r\n  // Check authentication on mount\r\n  useEffect(() => {\r\n    if (!auth?.user || !auth?.token) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n  }, [auth, router]);\r\n\r\n  useEffect(() => {\r\n    // Only fetch todos if user is authenticated\r\n    if (!auth?.user || !auth?.token) return;\r\n    \r\n    fetchTodos().then((res) => {\r\n      // API returns array directly or in results\r\n      const todosArray = Array.isArray(res) ? res : (res.results || []);\r\n      // Sort by position if available\r\n      const sortedTodos = todosArray.sort((a: Todo, b: Todo) => \r\n        (a.position || 0) - (b.position || 0)\r\n      );\r\n      setTodos(sortedTodos);\r\n    }).catch((err) => {\r\n      console.error(\"Failed to fetch todos:\", err);\r\n      setTodos([]);\r\n    }).finally(()=>setLoading(false));\r\n  }, [auth?.user, auth?.token]);\r\n\r\n  const handleDragEnd = async (event: any) => {\r\n    const { active, over } = event;\r\n    if (active.id !== over?.id) {\r\n      const oldIndex = todos.findIndex((t) => t.id === active.id);\r\n      const newIndex = todos.findIndex((t) => t.id === over.id);\r\n      const newTodos = arrayMove(todos, oldIndex, newIndex);\r\n      setTodos(newTodos);\r\n      // Update position for each todo\r\n      try {\r\n        await reorderTodos(newTodos.map((todo, index) => ({\r\n          id: todo.id,\r\n          position: index + 1\r\n        })));\r\n      } catch (err) {\r\n        console.error(\"Reorder failed, you might want to refetch or rollback.\", err);\r\n        // Refetch on error\r\n        fetchTodos().then((res) => {\r\n          const todosArray = Array.isArray(res) ? res : (res.results || []);\r\n          const sortedTodos = todosArray.sort((a: Todo, b: Todo) => \r\n            (a.position || 0) - (b.position || 0)\r\n          );\r\n          setTodos(sortedTodos);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCreate = async (title: string) => {\r\n    const res = await createTodo({ title });\r\n    setTodos((p) => [res, ...p]);\r\n  };\r\n\r\n  const handleUpdate = async (id: string, payload: Partial<Todo>) => {\r\n    const res = await updateTodo(id, payload);\r\n    setTodos((p) => p.map(t => t.id === id ? res : t));\r\n    setEditingTodo(null);\r\n  };\r\n\r\n  const handleEditClick = (todo: Todo) => {\r\n    setEditingTodo(todo);\r\n    setEditForm({\r\n      title: todo.title || \"\",\r\n      description: todo.description || \"\",\r\n      priority: todo.priority || \"moderate\",\r\n      todo_date: todo.todo_date ? new Date(todo.todo_date).toISOString().split('T')[0] : \"\",\r\n    });\r\n  };\r\n\r\n  const handleSaveEdit = async () => {\r\n    if (!editingTodo || !editForm.title.trim()) return;\r\n    await handleUpdate(String(editingTodo.id), {\r\n      title: editForm.title.trim(),\r\n      description: editForm.description.trim() || undefined,\r\n      priority: editForm.priority,\r\n      todo_date: editForm.todo_date || undefined,\r\n    });\r\n  };\r\n\r\n  const handleToggleComplete = async (todo: Todo) => {\r\n    await handleUpdate(String(todo.id), { is_completed: !todo.is_completed });\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    await deleteTodo(id);\r\n    setTodos((p) => p.filter(t => t.id !== id));\r\n  };\r\n\r\n  // Show loading or redirect message if not authenticated\r\n  if (!auth?.user || !auth?.token) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg\">Please login to access your todos</p>\r\n          <p className=\"text-sm text-gray-500 mt-2\">Redirecting...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#274AFF] mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading todos...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-6\">\r\n        <CreateTodo onCreate={handleCreate} />\r\n      </div>\r\n\r\n      {todos.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\r\n          <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n          </svg>\r\n          <p className=\"text-gray-600 text-lg font-medium\">No todos yet</p>\r\n          <p className=\"text-gray-500 text-sm mt-2\">Create your first todo above to get started!</p>\r\n        </div>\r\n      ) : (\r\n        <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\r\n          <SortableContext items={todos.map(t => t.id)} strategy={verticalListSortingStrategy}>\r\n            {todos.map(todo => (\r\n              <SortableItem \r\n                key={todo.id} \r\n                todo={todo} \r\n                onEdit={handleEditClick} \r\n                onDelete={handleDelete}\r\n                onToggleComplete={handleToggleComplete}\r\n              />\r\n            ))}\r\n          </SortableContext>\r\n        </DndContext>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {editingTodo && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n              <h2 className=\"text-2xl font-bold text-[#274AFF]\">Edit Todo</h2>\r\n              <button\r\n                onClick={() => setEditingTodo(null)}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Title <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editForm.title}\r\n                  onChange={(e) => setEditForm({ ...editForm, title: e.target.value })}\r\n                  className=\"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#274AFF] focus:ring-2 focus:ring-blue-100\"\r\n                  placeholder=\"Enter todo title\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Description\r\n                </label>\r\n                <textarea\r\n                  value={editForm.description}\r\n                  onChange={(e) => setEditForm({ ...editForm, description: e.target.value })}\r\n                  className=\"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#274AFF] focus:ring-2 focus:ring-blue-100 resize-none\"\r\n                  rows={4}\r\n                  placeholder=\"Enter todo description (optional)\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Priority\r\n                  </label>\r\n                  <select\r\n                    value={editForm.priority}\r\n                    onChange={(e) => setEditForm({ ...editForm, priority: e.target.value as \"extreme\" | \"moderate\" | \"low\" })}\r\n                    className=\"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#274AFF] focus:ring-2 focus:ring-blue-100\"\r\n                  >\r\n                    <option value=\"low\">Low</option>\r\n                    <option value=\"moderate\">Moderate</option>\r\n                    <option value=\"extreme\">Extreme</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Due Date\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    value={editForm.todo_date}\r\n                    onChange={(e) => setEditForm({ ...editForm, todo_date: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#274AFF] focus:ring-2 focus:ring-blue-100\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <button\r\n                onClick={handleSaveEdit}\r\n                className=\"flex-1 px-6 py-3 bg-[#274AFF] text-white font-semibold rounded-lg hover:bg-[#1E3A8A] transition-colors\"\r\n              >\r\n                Save Changes\r\n              </button>\r\n              <button\r\n                onClick={() => setEditingTodo(null)}\r\n                className=\"px-6 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// small create component\r\nfunction CreateTodo({ onCreate }: { onCreate: (title: string) => void }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  return (\r\n    <form \r\n      onSubmit={(e) => { \r\n        e.preventDefault(); \r\n        if (!title.trim()) return; \r\n        onCreate(title.trim()); \r\n        setTitle(\"\"); \r\n      }} \r\n      className=\"flex gap-3\"\r\n    >\r\n      <input \r\n        value={title} \r\n        onChange={(e)=>setTitle(e.target.value)} \r\n        className=\"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-[#274AFF] focus:ring-2 focus:ring-blue-100 text-gray-800 placeholder-gray-400\" \r\n        placeholder=\"Add a new todo...\" \r\n      />\r\n      <button \r\n        type=\"submit\" \r\n        className=\"px-6 py-3 rounded-lg bg-[#274AFF] text-white font-semibold hover:bg-[#1E3A8A] transition-colors shadow-md hover:shadow-lg flex items-center gap-2\"\r\n      >\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n        </svg>\r\n        Add Todo\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1095, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\n\r\nexport function ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!auth?.user || !auth?.token) {\r\n      router.push(\"/login\");\r\n    }\r\n  }, [auth, router]);\r\n\r\n  if (!auth?.user || !auth?.token) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,eAAe,EAAE,QAAQ,EAAiC;IACxE,MAAM,OAAO,IAAA,sIAAO;IACpB,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,OAAO;YAC/B,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;KAAO;IAEjB,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,OAAO;QAC/B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;;;;;;IAI/B;IAEA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 1151, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/DashboardLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport { ProtectedRoute } from \"./ProtectedRoute\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getProfile } from \"@/lib/auth\";\r\nimport Image from \"next/image\";\r\n\r\ninterface DashboardLayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function DashboardLayout({ children }: DashboardLayoutProps) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const auth = useAuth();\r\n  const [profile, setProfile] = useState<any>(null);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const date = new Date();\r\n    const days = [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n    ];\r\n    const dayName = days[date.getDay()];\r\n    const formattedDate = date.toLocaleDateString(\"en-GB\", {\r\n      day: \"2-digit\",\r\n      month: \"2-digit\",\r\n      year: \"numeric\",\r\n    });\r\n    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (auth?.token) {\r\n      getProfile()\r\n        .then((data) => {\r\n          setProfile(data);\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Failed to fetch profile:\", err);\r\n        });\r\n    }\r\n  }, [auth?.token]);\r\n\r\n  const handleLogout = () => {\r\n    if (auth) {\r\n      auth.logout();\r\n      router.push(\"/login\");\r\n    }\r\n  };\r\n\r\n  const menuItems = [\r\n    { path: \"/dashboard\", label: \"Dashboard\", icon: \"ðŸ \" },\r\n    { path: \"/todos\", label: \"Todos\", icon: \"âœ“\" },\r\n    { path: \"/profile\", label: \"Account Information\", icon: \"ðŸ‘¤\" },\r\n  ];\r\n\r\n  const isActive = (path: string) => {\r\n    return pathname === path;\r\n  };\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen bg-[#E2ECF8] flex flex-col\">\r\n        <div className=\"flex flex-1 relative\">\r\n          {/* Mobile Sidebar Overlay */}\r\n          {sidebarOpen && (\r\n            <div\r\n              className=\"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden\"\r\n              onClick={() => setSidebarOpen(false)}\r\n            />\r\n          )}\r\n\r\n          {/* Sidebar */}\r\n          <aside\r\n            className={`fixed md:static inset-y-0 left-0 z-50 w-64 bg-[#1E3A8A] text-white flex flex-col transform transition-transform duration-300 ease-in-out ${\r\n              sidebarOpen\r\n                ? \"translate-x-0\"\r\n                : \"-translate-x-full md:translate-x-0\"\r\n            }`}\r\n          >\r\n            {/* Profile Section */}\r\n            <div className=\"p-4 md:p-6 border-b border-blue-800 \">\r\n              <div className=\"flex items-center justify-between mb-4 md:mb-0 md:flex-col\">\r\n                <div className=\"flex items-center gap-3 md:flex-col\">\r\n                  <div className=\"w-12 h-12 md:w-20 md:h-20 bg-gray-400 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0\">\r\n                    {profile?.profile_image ? (\r\n                      <img\r\n                        src={profile.profile_image}\r\n                        alt=\"Profile\"\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <span className=\"text-xl md:text-3xl\">ðŸ‘¤</span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-left md:text-center\">\r\n                    <p className=\"font-semibold text-sm md:text-lg\">\r\n                      {auth?.user?.name?.split(\" \")[0] || \"User\"}\r\n                    </p>\r\n                    <p className=\"text-xs md:text-sm text-blue-200 mt-1 hidden md:block\">\r\n                      {auth?.user?.email || \"\"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {/* Close button for mobile */}\r\n                <button\r\n                  onClick={() => setSidebarOpen(false)}\r\n                  className=\"md:hidden text-white hover:text-gray-300 p-2\"\r\n                >\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M6 18L18 6M6 6l12 12\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <nav className=\"flex-1 p-3 md:p-4 overflow-y-auto\">\r\n              <ul className=\"space-y-2\">\r\n                {menuItems.map((item) => (\r\n                  <li key={item.path}>\r\n                    <button\r\n                      onClick={() => {\r\n                        router.push(item.path);\r\n                        setSidebarOpen(false);\r\n                      }}\r\n                      className={`w-full flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2 md:py-3 rounded-lg transition-colors text-sm md:text-base ${\r\n                        isActive(item.path)\r\n                          ? \"bg-blue-600 text-white\"\r\n                          : \"text-blue-200 hover:bg-blue-800 hover:text-white\"\r\n                      }`}\r\n                    >\r\n                      <span className=\"text-lg md:text-xl\">{item.icon}</span>\r\n                      <span className=\"font-medium\">{item.label}</span>\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </nav>\r\n\r\n            {/* Logout */}\r\n            <div className=\"p-3 md:p-4 border-t border-blue-800\">\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"w-full flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2 md:py-3 rounded-lg text-blue-200 hover:bg-blue-800 hover:text-white transition-colors text-sm md:text-base\"\r\n              >\r\n                <svg\r\n                  className=\"w-4 h-4 md:w-5 md:h-5\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                  />\r\n                </svg>\r\n                <span className=\"font-medium\">Logout</span>\r\n              </button>\r\n            </div>\r\n          </aside>\r\n\r\n          {/* Main Content */}\r\n          <main className=\"flex-1 overflow-y-auto\">\r\n            <div className=\"w-full\">\r\n              {/* Header inside main content area */}\r\n              <header className=\"bg-white py-10 mb-6\">\r\n                <div className=\"flex items-center justify-between px-20\">\r\n                  {/* Mobile Menu Button - Left Side */}\r\n                  <button\r\n                    onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                    className=\"md:hidden absolute left-3 md:left-6 text-gray-600 hover:text-gray-800 p-2\"\r\n                  >\r\n                    <svg\r\n                      className=\"w-6 h-6\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M4 6h16M4 12h16M4 18h16\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n\r\n                  {/* Right Side Content */}\r\n\r\n                  <div className=\"\">\r\n                    <Image\r\n                      src=\"/images/dashboard/logo.png\"\r\n                      alt=\"logo\"\r\n                      height={105}\r\n                      width={100}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 md:gap-4\">\r\n                    <Image\r\n                      src=\"/images/dashboard/notifications.png\"\r\n                      alt=\"logo\"\r\n                      height={30}\r\n                      width={30}\r\n                    />\r\n                    <button className=\"hidden md:block text-gray-600 hover:text-gray-800\">\r\n                      <Image\r\n                        src=\"/images/dashboard/cal.png\"\r\n                        alt=\"logo\"\r\n                        height={30}\r\n                        width={30}\r\n                      />\r\n                    </button>\r\n                    <span className=\"hidden md:block text-gray-600 font-medium text-sm md:text-base\">\r\n                      {currentDate}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </header>\r\n\r\n              {children}\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1592, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/app/todos/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport TodoList from \"@/components/TodoList\";\r\nimport DashboardLayout from \"@/components/DashboardLayout\";\r\n\r\nexport default function TodosPage() {\r\n  return (\r\n    <DashboardLayout>\r\n      <div className=\"bg-white rounded-lg shadow-lg border-2 border-orange-400 p-8\">\r\n        <h1 className=\"text-3xl font-bold text-[#274AFF] mb-8 pb-4 border-b-2 border-[#274AFF]\">\r\n          Todos\r\n        </h1>\r\n        <TodoList />\r\n      </div>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,8OAAC,yIAAe;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA0E;;;;;;8BAGxF,8OAAC,kIAAQ;;;;;;;;;;;;;;;;AAIjB"}}]
}