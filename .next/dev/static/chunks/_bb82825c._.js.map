{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/apiHook.ts"],"sourcesContent":["import axios from \"axios\";\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"https://todo-app.pioneeralpha.com\";\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const setAuthToken = (token?: string) => {\r\n  if (token) api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  else delete api.defaults.headers.common[\"Authorization\"];\r\n};\r\n\r\n// Add request interceptor to ensure token is always included\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    // Try to get token from localStorage (check both possible keys)\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"token\") || localStorage.getItem(\"todo_token\");\r\n      if (token && !config.headers[\"Authorization\"]) {\r\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n      }\r\n    }\r\n    \r\n    // If data is FormData, remove Content-Type header to let axios set it automatically with boundary\r\n    if (config.data instanceof FormData) {\r\n      delete config.headers[\"Content-Type\"];\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;;;AACiB;AADjB;;AACA,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,oBAAoB,IAAI;AAErD,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,eAAe,CAAC;IAC3B,IAAI,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;SACtE,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB;AAC1D;AAEA,6DAA6D;AAC7D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,gEAAgE;IAChE,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC,YAAY,aAAa,OAAO,CAAC;QACpE,IAAI,SAAS,CAAC,OAAO,OAAO,CAAC,gBAAgB,EAAE;YAC7C,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QACrD;IACF;IAEA,kGAAkG;IAClG,IAAI,OAAO,IAAI,YAAY,UAAU;QACnC,OAAO,OAAO,OAAO,CAAC,eAAe;IACvC;IAEA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\r\nimport api, { setAuthToken } from \"./apiHook\";\r\n\r\nconst TOKEN_KEY = \"todo_token\";\r\n\r\nexport const saveToken = (token: string) => {\r\n  localStorage.setItem(TOKEN_KEY, token);\r\n  setAuthToken(token);\r\n};\r\n\r\nexport const loadToken = () => {\r\n  const t = localStorage.getItem(TOKEN_KEY);\r\n  if (t) setAuthToken(t);\r\n  return t;\r\n};\r\n\r\nexport const clearToken = () => {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  setAuthToken(undefined);\r\n};\r\n\r\n// API calls matching Django backend endpoints\r\nexport const signup = async (data: {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/signup/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const login = async (data: { email: string; password: string }) => {\r\n  // API uses email field for login\r\n  const res = await api.post(\"/api/auth/login/\", {\r\n    email: data.email,\r\n    password: data.password,\r\n  });\r\n  // Django JWT returns { access: \"...\", refresh: \"...\" }\r\n  return res.data;\r\n};\r\n\r\nexport const refreshToken = async (refresh: string) => {\r\n  const res = await api.post(\"/api/auth/refresh/\", { refresh });\r\n  return res.data;\r\n};\r\n\r\nexport const getProfile = async () => {\r\n  const res = await api.get(\"/api/users/me/\");\r\n  return res.data;\r\n};\r\n\r\nexport const changePassword = async (data: {\r\n  old_password: string;\r\n  new_password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/change-password/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const updateProfile = async (data: {\r\n  first_name?: string;\r\n  last_name?: string;\r\n  email?: string;\r\n  address?: string;\r\n  contact_number?: string;\r\n  birthday?: string;\r\n  profile_image?: File;\r\n}) => {\r\n  // Ensure token is loaded before making request\r\n  const token = loadToken() || (typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null);\r\n  if (!token) {\r\n    throw new Error(\"No authentication token found\");\r\n  }\r\n\r\n  // Ensure token is set in axios instance\r\n  setAuthToken(token);\r\n\r\n  const formData = new FormData();\r\n  \r\n  // Append all fields, including empty strings to clear fields if needed\r\n  if (data.first_name !== undefined) formData.append(\"first_name\", data.first_name);\r\n  if (data.last_name !== undefined) formData.append(\"last_name\", data.last_name);\r\n  if (data.email !== undefined) formData.append(\"email\", data.email);\r\n  if (data.address !== undefined) formData.append(\"address\", data.address);\r\n  if (data.contact_number !== undefined) formData.append(\"contact_number\", data.contact_number);\r\n  if (data.birthday !== undefined) formData.append(\"birthday\", data.birthday);\r\n  \r\n  // Append file if it exists and is a File object\r\n  if (data.profile_image && data.profile_image instanceof File) {\r\n    formData.append(\"profile_image\", data.profile_image, data.profile_image.name);\r\n  }\r\n\r\n  // Send FormData - axios will automatically set Content-Type to multipart/form-data with boundary\r\n  // The interceptor will handle removing the default Content-Type header\r\n  const res = await api.patch(\"/api/users/me/\", formData);\r\n  return res.data;\r\n};\r\n\r\nexport const fetchTodos = async () => {\r\n  const res = await api.get(\"/api/todos/\");\r\n  // API returns paginated response with results array\r\n  return res.data.results || res.data;\r\n};\r\n\r\nexport const createTodo = async (payload: {\r\n  title: string;\r\n  description?: string;\r\n  priority?: \"extreme\" | \"moderate\" | \"low\";\r\n  todo_date?: string;\r\n}) => {\r\n  const res = await api.post(\"/api/todos/\", payload);\r\n  return res.data;\r\n};\r\n\r\nexport const updateTodo = async (id: string, payload: any) => {\r\n  const res = await api.patch(`/api/todos/${id}/`, payload);\r\n  return res.data;\r\n};\r\n\r\nexport const deleteTodo = async (id: string) => {\r\n  const res = await api.delete(`/api/todos/${id}/`);\r\n  return res.data;\r\n};\r\n\r\n// Reorder todos by updating position field\r\nexport const reorderTodos = async (todos: Array<{ id: string | number; position: number }>) => {\r\n  // Update each todo's position\r\n  const promises = todos.map((todo, index) =>\r\n    updateTodo(String(todo.id), { position: index + 1 })\r\n  );\r\n  await Promise.all(promises);\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/TodoList.tsx"],"sourcesContent":["// components/TodoList.tsx\r\n\"use client\";\r\nimport React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport {\r\n  DndContext,\r\n  closestCenter,\r\n  closestCorners,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n} from \"@dnd-kit/core\";\r\nimport {\r\n  arrayMove,\r\n  SortableContext,\r\n  verticalListSortingStrategy,\r\n  rectSortingStrategy,\r\n  useSortable,\r\n} from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport {\r\n  fetchTodos,\r\n  createTodo,\r\n  updateTodo,\r\n  deleteTodo,\r\n  reorderTodos,\r\n} from \"../lib/auth\";\r\n\r\ntype Todo = {\r\n  id: string | number;\r\n  title: string;\r\n  description?: string;\r\n  priority?: \"extreme\" | \"moderate\" | \"low\";\r\n  is_completed?: boolean;\r\n  position?: number;\r\n  todo_date?: string;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n};\r\n\r\n/* -------------------------\r\n   Sortable Item (task card)\r\n   ------------------------- */\r\nfunction SortableItem({\r\n  todo,\r\n  onEdit,\r\n  onDelete,\r\n  onToggleComplete,\r\n}: {\r\n  todo: Todo;\r\n  onEdit: (t: Todo) => void;\r\n  onDelete: (id: string) => void;\r\n  onToggleComplete: (t: Todo) => void;\r\n}) {\r\n  const { attributes, listeners, setNodeRef, transform, transition } =\r\n    useSortable({ id: todo.id });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n  };\r\n\r\n  const priorityConfig = {\r\n    extreme: {\r\n      bg: \"bg-pink-50\",\r\n      border: \"border-pink-200\",\r\n      text: \"text-pink-700\",\r\n      label: \"Extreme\",\r\n    },\r\n    moderate: {\r\n      bg: \"bg-green-50\",\r\n      border: \"border-green-200\",\r\n      text: \"text-green-700\",\r\n      label: \"Moderate\",\r\n    },\r\n    low: {\r\n      bg: \"bg-yellow-50\",\r\n      border: \"border-yellow-200\",\r\n      text: \"text-yellow-700\",\r\n      label: \"Low\",\r\n    },\r\n  };\r\n\r\n  const priority = todo.priority || \"moderate\";\r\n  const config = priorityConfig[priority];\r\n\r\n  const formatDate = (dateString?: string) => {\r\n    if (!dateString) return \"\";\r\n    const date = new Date(dateString);\r\n    const months = [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Aug\",\r\n      \"Sep\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\",\r\n    ];\r\n    return `Due ${\r\n      months[date.getMonth()]\r\n    } ${date.getDate()}, ${date.getFullYear()}`;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={style}\r\n      className=\"bg-white rounded-lg border border-gray-200 shadow-sm p-5 hover:shadow-md transition-all relative h-full flex flex-col cursor-grab active:cursor-grabbing\"\r\n    >\r\n      {/* Drag Handle - Entire card is draggable except buttons */}\r\n      <div\r\n        {...attributes}\r\n        {...listeners}\r\n        className=\"absolute inset-0 cursor-grab active:cursor-grabbing z-0\"\r\n        style={{ touchAction: \"none\" }}\r\n      />\r\n\r\n      {/* Visible drag indicator */}\r\n      <div className=\"absolute top-3 right-3 text-gray-400 pointer-events-none z-20\">\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n        >\r\n          <path\r\n            d=\"M10 6h.01M14 6h.01M10 12h.01M14 12h.01M10 18h.01M14 18h.01\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col h-full relative z-10\">\r\n        <div className=\"flex-1 min-h-0\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2 pr-8\">\r\n            {todo.title}\r\n          </h3>\r\n          <p className=\"text-sm text-gray-600 mb-4 line-clamp-3\">\r\n            {todo.description || \"\"}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between mt-auto pt-4 border-t border-gray-100\">\r\n          <div className=\"flex flex-col gap-2 flex-1\">\r\n            <span\r\n              className={`text-xs font-semibold px-3 py-1 rounded-lg border ${config.bg} ${config.border} ${config.text} flex items-center gap-1 w-fit`}\r\n            >\r\n              <svg className=\"w-3 h-3\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z\" />\r\n              </svg>\r\n              {config.label}\r\n            </span>\r\n\r\n            {todo.todo_date && (\r\n              <span className=\"text-xs text-gray-500\">\r\n                {formatDate(todo.todo_date)}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2 relative z-30\">\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                onEdit(todo);\r\n              }}\r\n              onMouseDown={(e) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n              }}\r\n              onTouchStart={(e) => {\r\n                e.stopPropagation();\r\n              }}\r\n              className=\"p-2 text-blue-600 hover:bg-blue-50 rounded transition relative z-30\"\r\n              title=\"Edit\"\r\n            >\r\n              <svg\r\n                className=\"w-4 h-4\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n              >\r\n                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n              </svg>\r\n            </button>\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                onDelete(String(todo.id));\r\n              }}\r\n              onMouseDown={(e) => {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n              }}\r\n              onTouchStart={(e) => {\r\n                e.stopPropagation();\r\n              }}\r\n              className=\"p-2 text-red-600 hover:bg-red-50 rounded transition relative z-30\"\r\n              title=\"Delete\"\r\n            >\r\n              <svg\r\n                className=\"w-4 h-4\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n              >\r\n                <path d=\"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* -------------------------\r\n   Main Component\r\n   ------------------------- */\r\nexport default function TodoList() {\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n  const [todos, setTodos] = useState<Todo[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [filterOpen, setFilterOpen] = useState(false);\r\n  const [dateFilter, setDateFilter] = useState<string[]>([]);\r\n\r\n  // add modal state for \"Add New Task\"\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [createForm, setCreateForm] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    priority: \"moderate\" as \"extreme\" | \"moderate\" | \"low\",\r\n    todo_date: \"\",\r\n  });\r\n  const dateInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // edit modal\r\n  const [editingTodo, setEditingTodo] = useState<Todo | null>(null);\r\n  const [editForm, setEditForm] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    priority: \"moderate\" as \"extreme\" | \"moderate\" | \"low\",\r\n    todo_date: \"\",\r\n  });\r\n  const editDateInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, {\r\n      activationConstraint: {\r\n        distance: 5,\r\n      },\r\n    })\r\n  );\r\n\r\n  // Filter and search logic\r\n  const filteredTodos = useMemo(() => {\r\n    let filtered = [...todos];\r\n\r\n    // Search filter\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (todo) =>\r\n          todo.title.toLowerCase().includes(query) ||\r\n          todo.description?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Date filter\r\n    if (dateFilter.length > 0) {\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n\r\n      filtered = filtered.filter((todo) => {\r\n        if (!todo.todo_date) return false;\r\n        const todoDate = new Date(todo.todo_date);\r\n        todoDate.setHours(0, 0, 0, 0);\r\n\r\n        return dateFilter.some((filter) => {\r\n          if (filter === \"today\") {\r\n            return todoDate.getTime() === today.getTime();\r\n          }\r\n          if (filter === \"5days\") {\r\n            const fiveDaysLater = new Date(today);\r\n            fiveDaysLater.setDate(today.getDate() + 5);\r\n            return todoDate >= today && todoDate <= fiveDaysLater;\r\n          }\r\n          if (filter === \"10days\") {\r\n            const tenDaysLater = new Date(today);\r\n            tenDaysLater.setDate(today.getDate() + 10);\r\n            return todoDate >= today && todoDate <= tenDaysLater;\r\n          }\r\n          if (filter === \"30days\") {\r\n            const thirtyDaysLater = new Date(today);\r\n            thirtyDaysLater.setDate(today.getDate() + 30);\r\n            return todoDate >= today && todoDate <= thirtyDaysLater;\r\n          }\r\n          return false;\r\n        });\r\n      });\r\n    }\r\n\r\n    // Sort by position (default - for drag and drop)\r\n    filtered.sort((a, b) => (a.position ?? 0) - (b.position ?? 0));\r\n\r\n    return filtered;\r\n  }, [todos, searchQuery, dateFilter]);\r\n\r\n  const toggleDateFilter = (filter: string) => {\r\n    setDateFilter((prev) =>\r\n      prev.includes(filter)\r\n        ? prev.filter((f) => f !== filter)\r\n        : [...prev, filter]\r\n    );\r\n  };\r\n\r\n  // redirect if not auth\r\n  useEffect(() => {\r\n    if (!auth?.user || !auth?.token) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n  }, [auth, router]);\r\n\r\n  // fetch todos\r\n  useEffect(() => {\r\n    if (!auth?.token) return;\r\n\r\n    fetchTodos()\r\n      .then((res) => {\r\n        const arr = Array.isArray(res) ? res : res.results || [];\r\n        const sorted = arr.sort(\r\n          (a: any, b: any) => (a.position ?? 0) - (b.position ?? 0)\r\n        );\r\n        setTodos(sorted);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"fetchTodos error:\", err);\r\n        setTodos([]);\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [auth?.token]);\r\n\r\n  // drag end\r\n  const handleDragEnd = async (event: any) => {\r\n    const { active, over } = event;\r\n    if (!over || active.id === over.id) return;\r\n\r\n    // Find indices in the original todos array\r\n    const oldIndex = todos.findIndex((t) => t.id === active.id);\r\n    const newIndex = todos.findIndex((t) => t.id === over.id);\r\n\r\n    if (oldIndex === -1 || newIndex === -1) return;\r\n\r\n    // Reorder the todos array\r\n    const newList = arrayMove(todos, oldIndex, newIndex);\r\n\r\n    // Update positions in the new list\r\n    const updatedList = newList.map((todo, index) => ({\r\n      ...todo,\r\n      position: index + 1,\r\n    }));\r\n\r\n    // Update state immediately for better UX\r\n    setTodos(updatedList);\r\n\r\n    try {\r\n      // Send position updates to server\r\n      await reorderTodos(\r\n        updatedList.map((t) => ({\r\n          id: t.id,\r\n          position: t.position,\r\n        }))\r\n      );\r\n\r\n      // Refresh todos from server to ensure sync\r\n      const res = await fetchTodos();\r\n      const arr = Array.isArray(res) ? res : res.results || [];\r\n      const sorted = arr.sort(\r\n        (a: any, b: any) => (a.position ?? 0) - (b.position ?? 0)\r\n      );\r\n      setTodos(sorted);\r\n    } catch (err) {\r\n      console.error(\"reorder error:\", err);\r\n      // Revert on error\r\n      setTodos(todos);\r\n    }\r\n  };\r\n\r\n  // create\r\n  const handleCreate = async () => {\r\n    if (!createForm.title.trim()) return;\r\n    const payload = {\r\n      title: createForm.title.trim(),\r\n      description: createForm.description.trim() || undefined,\r\n      priority: createForm.priority,\r\n      todo_date: createForm.todo_date || undefined,\r\n    };\r\n    try {\r\n      const res = await createTodo(payload);\r\n      setTodos((p) => [res, ...p]);\r\n      setShowAddModal(false);\r\n      setCreateForm({\r\n        title: \"\",\r\n        description: \"\",\r\n        priority: \"moderate\",\r\n        todo_date: \"\",\r\n      });\r\n    } catch (err) {\r\n      console.error(\"createTodo error:\", err);\r\n    }\r\n  };\r\n\r\n  // update\r\n  const handleUpdate = async (id: string, payload: Partial<Todo>) => {\r\n    try {\r\n      const res = await updateTodo(id, payload);\r\n      setTodos((p) => p.map((t) => (String(t.id) === String(id) ? res : t)));\r\n      setEditingTodo(null);\r\n    } catch (err) {\r\n      console.error(\"updateTodo error:\", err);\r\n    }\r\n  };\r\n\r\n  // delete\r\n  const handleDelete = async (id: string) => {\r\n    try {\r\n      await deleteTodo(id);\r\n      setTodos((p) => p.filter((t) => String(t.id) !== String(id)));\r\n    } catch (err) {\r\n      console.error(\"deleteTodo error:\", err);\r\n    }\r\n  };\r\n\r\n  // edit click\r\n  const handleEditClick = (todo: Todo) => {\r\n    setEditingTodo(todo);\r\n    setEditForm({\r\n      title: todo.title || \"\",\r\n      description: todo.description || \"\",\r\n      priority: todo.priority || \"moderate\",\r\n      todo_date: todo.todo_date\r\n        ? new Date(todo.todo_date).toISOString().split(\"T\")[0]\r\n        : \"\",\r\n    });\r\n  };\r\n\r\n  // save edit\r\n  const handleSaveEdit = async () => {\r\n    if (!editingTodo) return;\r\n    if (!editForm.title.trim()) return;\r\n    await handleUpdate(String(editingTodo.id), {\r\n      title: editForm.title.trim(),\r\n      description: editForm.description.trim() || undefined,\r\n      priority: editForm.priority,\r\n      todo_date: editForm.todo_date || undefined,\r\n    });\r\n  };\r\n\r\n  // toggle complete\r\n  const handleToggleComplete = async (todo: Todo) => {\r\n    await handleUpdate(String(todo.id), { is_completed: !todo.is_completed });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"py-12 text-center\">\r\n        <div className=\"w-8 h-8 mx-auto rounded-full animate-spin border-b-2 border-blue-500\" />\r\n        <p className=\"mt-3 text-gray-600\">Loading todosâ€¦</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Search and Filter Bar */}\r\n      <div className=\"flex items-center gap-4 mb-6\">\r\n        <div className=\"flex-1 relative\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full border border-gray-300 rounded-lg px-4 py-3 pr-12 text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            placeholder=\"Search your task here...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n          <div className=\"absolute right-3 top-1/2 -translate-y-1/2\">\r\n            <svg\r\n              className=\"w-5 h-5 text-gray-400\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setFilterOpen(!filterOpen)}\r\n            className=\"flex items-center gap-2 px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 transition\"\r\n          >\r\n            <span>Sort by</span>\r\n            <svg\r\n              className={`w-4 h-4 transition-transform ${\r\n                filterOpen ? \"rotate-180\" : \"\"\r\n              }`}\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M19 9l-7 7-7-7\"\r\n              />\r\n            </svg>\r\n          </button>\r\n\r\n          {filterOpen && (\r\n            <>\r\n              <div\r\n                className=\"fixed inset-0 z-10\"\r\n                onClick={() => setFilterOpen(false)}\r\n              />\r\n              <div className=\"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20 p-4\">\r\n                <h4 className=\"font-semibold text-gray-900 mb-3\">Date</h4>\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={dateFilter.includes(\"today\")}\r\n                      onChange={() => toggleDateFilter(\"today\")}\r\n                      className=\"w-4 h-4 text-blue-600 rounded\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">\r\n                      Deadline Today\r\n                    </span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={dateFilter.includes(\"5days\")}\r\n                      onChange={() => toggleDateFilter(\"5days\")}\r\n                      className=\"w-4 h-4 text-blue-600 rounded\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">\r\n                      Expires in 5 days\r\n                    </span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={dateFilter.includes(\"10days\")}\r\n                      onChange={() => toggleDateFilter(\"10days\")}\r\n                      className=\"w-4 h-4 text-blue-600 rounded\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">\r\n                      Expires in 10 days\r\n                    </span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={dateFilter.includes(\"30days\")}\r\n                      onChange={() => toggleDateFilter(\"30days\")}\r\n                      className=\"w-4 h-4 text-blue-600 rounded\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">\r\n                      Expires in 30 days\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={() => setShowAddModal(true)}\r\n          className=\"bg-[#5272FF] text-white px-6 py-3 rounded-lg shadow-md hover:bg-[#4262EF] transition font-medium\"\r\n        >\r\n          + New Task\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tasks list / empty state */}\r\n      <div className=\"mt-6 overflow-hidden\">\r\n        {filteredTodos.length === 0 ? (\r\n          <div className=\"rounded-xl border border-dashed border-gray-300 p-12 text-center text-gray-500\">\r\n            <div className=\"mb-3 flex justify-center\">\r\n              <div className=\"relative\">\r\n                <svg\r\n                  className=\"w-24 h-24 text-gray-300\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                >\r\n                  <path\r\n                    d=\"M9 3h6v4H9zM5 7h14v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7z\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"1.5\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  />\r\n                </svg>\r\n                <div className=\"absolute -bottom-2 -right-2 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center\">\r\n                  <svg\r\n                    className=\"w-5 h-5 text-white\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M12 4v16m8-8H4\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-gray-700\">\r\n              No todos yet\r\n            </h3>\r\n            <p className=\"text-sm mt-2\">\r\n              Create your first todo to get started!\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              Your Tasks\r\n            </h2>\r\n            <div className=\"overflow-hidden\">\r\n              <DndContext\r\n                sensors={sensors}\r\n                collisionDetection={closestCorners}\r\n                onDragEnd={handleDragEnd}\r\n              >\r\n                <SortableContext\r\n                  items={filteredTodos.map((t) => t.id)}\r\n                  strategy={rectSortingStrategy}\r\n                >\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {filteredTodos.map((todo) => (\r\n                      <SortableItem\r\n                        key={todo.id}\r\n                        todo={todo}\r\n                        onEdit={handleEditClick}\r\n                        onDelete={handleDelete}\r\n                        onToggleComplete={handleToggleComplete}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </SortableContext>\r\n              </DndContext>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add Modal */}\r\n      {showAddModal && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30\"\r\n          onClick={() => setShowAddModal(false)}\r\n        >\r\n          <div\r\n            className=\"bg-white w-full max-w-2xl rounded-2xl p-8 shadow-xl\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"flex items-start justify-between mb-6\">\r\n              <h3 className=\"text-2xl font-semibold text-gray-900\">\r\n                Add New Task\r\n              </h3>\r\n              <div className=\"border-b-2 border-[#5272FF] w-[100px] absolute top-12 left-8\"></div>\r\n              <button\r\n                onClick={() => setShowAddModal(false)}\r\n                className=\"text-gray-500 hover:text-gray-700 text-sm\"\r\n              >\r\n                Go Back\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  value={createForm.title}\r\n                  onChange={(e) =>\r\n                    setCreateForm((p) => ({ ...p, title: e.target.value }))\r\n                  }\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"Enter task title\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Date\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    ref={dateInputRef}\r\n                    type=\"date\"\r\n                    value={createForm.todo_date}\r\n                    onChange={(e) =>\r\n                      setCreateForm((p) => ({\r\n                        ...p,\r\n                        todo_date: e.target.value,\r\n                      }))\r\n                    }\r\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-3 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => dateInputRef.current?.showPicker()}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer p-1 hover:bg-gray-100 rounded transition\"\r\n                  >\r\n                    <svg\r\n                      className=\"w-5 h-5 text-gray-400\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth=\"2\"\r\n                        d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                  Priority\r\n                </label>\r\n                <div className=\" flex space-x-8\">\r\n                  <label className=\"flex items-center gap-3 cursor-pointer \">\r\n                    <div className=\"flex items-center gap-2 flex-1\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-red-500\"></div>\r\n                      <span className=\"text-gray-700\">Extreme</span>\r\n                    </div>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"priority\"\r\n                        value=\"extreme\"\r\n                        checked={createForm.priority === \"extreme\"}\r\n                        onChange={(e) =>\r\n                          setCreateForm((p) => ({\r\n                            ...p,\r\n                            priority: e.target.value as any,\r\n                          }))\r\n                        }\r\n                        className=\"sr-only\"\r\n                      />\r\n                      <div\r\n                        className={`w-5 h-5 border-2 rounded flex items-center justify-center ${\r\n                          createForm.priority === \"extreme\"\r\n                            ? \"border-red-500 bg-red-500\"\r\n                            : \"border-gray-300 bg-white\"\r\n                        }`}\r\n                      >\r\n                        {createForm.priority === \"extreme\" && (\r\n                          <svg\r\n                            className=\"w-3 h-3 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth=\"3\"\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-3 cursor-pointer \">\r\n                    <div className=\"flex items-center gap-2 flex-1\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-green-500\"></div>\r\n                      <span className=\"text-gray-700\">Moderate</span>\r\n                    </div>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"priority\"\r\n                        value=\"moderate\"\r\n                        checked={createForm.priority === \"moderate\"}\r\n                        onChange={(e) =>\r\n                          setCreateForm((p) => ({\r\n                            ...p,\r\n                            priority: e.target.value as any,\r\n                          }))\r\n                        }\r\n                        className=\"sr-only\"\r\n                      />\r\n                      <div\r\n                        className={`w-5 h-5 border-2 rounded flex items-center justify-center ${\r\n                          createForm.priority === \"moderate\"\r\n                            ? \"border-green-500 bg-green-500\"\r\n                            : \"border-gray-300 bg-white\"\r\n                        }`}\r\n                      >\r\n                        {createForm.priority === \"moderate\" && (\r\n                          <svg\r\n                            className=\"w-3 h-3 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth=\"3\"\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-3 cursor-pointer \">\r\n                    <div className=\"flex items-center gap-2 flex-1\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-yellow-500\"></div>\r\n                      <span className=\"text-gray-700\">Low</span>\r\n                    </div>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"priority\"\r\n                        value=\"low\"\r\n                        checked={createForm.priority === \"low\"}\r\n                        onChange={(e) =>\r\n                          setCreateForm((p) => ({\r\n                            ...p,\r\n                            priority: e.target.value as any,\r\n                          }))\r\n                        }\r\n                        className=\"sr-only\"\r\n                      />\r\n                      <div\r\n                        className={`w-5 h-5 border-2 rounded flex items-center justify-center ${\r\n                          createForm.priority === \"low\"\r\n                            ? \"border-yellow-500 bg-yellow-500\"\r\n                            : \"border-gray-300 bg-white\"\r\n                        }`}\r\n                      >\r\n                        {createForm.priority === \"low\" && (\r\n                          <svg\r\n                            className=\"w-3 h-3 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth=\"3\"\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Task Description\r\n                </label>\r\n                <textarea\r\n                  rows={6}\r\n                  value={createForm.description}\r\n                  onChange={(e) =>\r\n                    setCreateForm((p) => ({\r\n                      ...p,\r\n                      description: e.target.value,\r\n                    }))\r\n                  }\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"Start writing here......\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between mt-8\">\r\n              <button\r\n                onClick={handleCreate}\r\n                className=\"px-8 py-3 rounded-lg bg-[#5272FF] text-white font-medium hover:bg-[#4262EF] transition\"\r\n              >\r\n                Done\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  setShowAddModal(false);\r\n                  setCreateForm({\r\n                    title: \"\",\r\n                    description: \"\",\r\n                    priority: \"moderate\",\r\n                    todo_date: \"\",\r\n                  });\r\n                }}\r\n                className=\"p-3 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition\"\r\n                title=\"Cancel\"\r\n              >\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                >\r\n                  <path d=\"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Modal */}\r\n      {editingTodo && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30\"\r\n          onClick={() => setEditingTodo(null)}\r\n        >\r\n          <div\r\n            className=\"bg-white w-full max-w-2xl rounded-2xl p-8 shadow-xl max-h-[90vh] overflow-y-auto\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"flex items-start justify-between mb-6\">\r\n              <h3 className=\"text-2xl font-semibold text-gray-900\">\r\n                Edit Task\r\n              </h3>\r\n              <div className=\"border-b-2 border-[#5272FF] w-[100px] absolute top-12 left-8\"></div>\r\n              <button\r\n                onClick={() => setEditingTodo(null)}\r\n                className=\"text-gray-500 hover:text-gray-700 text-sm\"\r\n              >\r\n                Go Back\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  value={editForm.title}\r\n                  onChange={(e) =>\r\n                    setEditForm((p) => ({ ...p, title: e.target.value }))\r\n                  }\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"Enter task title\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Date\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    ref={editDateInputRef}\r\n                    type=\"date\"\r\n                    value={editForm.todo_date}\r\n                    onChange={(e) =>\r\n                      setEditForm((p) => ({ ...p, todo_date: e.target.value }))\r\n                    }\r\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-3 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => editDateInputRef.current?.showPicker()}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer p-1 hover:bg-gray-100 rounded transition\"\r\n                  >\r\n                    <svg\r\n                      className=\"w-5 h-5 text-gray-400\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth=\"2\"\r\n                        d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                  Priority\r\n                </label>\r\n                <div className=\"space-y-3\">\r\n                  <label className=\"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition\">\r\n                    <div className=\"flex items-center gap-2 flex-1\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-red-500\"></div>\r\n                      <span className=\"text-gray-700\">Extreme</span>\r\n                    </div>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"edit-priority\"\r\n                        value=\"extreme\"\r\n                        checked={editForm.priority === \"extreme\"}\r\n                        onChange={(e) =>\r\n                          setEditForm((p) => ({\r\n                            ...p,\r\n                            priority: e.target.value as any,\r\n                          }))\r\n                        }\r\n                        className=\"sr-only\"\r\n                      />\r\n                      <div\r\n                        className={`w-5 h-5 border-2 rounded flex items-center justify-center ${\r\n                          editForm.priority === \"extreme\"\r\n                            ? \"border-red-500 bg-red-500\"\r\n                            : \"border-gray-300 bg-white\"\r\n                        }`}\r\n                      >\r\n                        {editForm.priority === \"extreme\" && (\r\n                          <svg\r\n                            className=\"w-3 h-3 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth=\"3\"\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition\">\r\n                    <div className=\"flex items-center gap-2 flex-1\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-green-500\"></div>\r\n                      <span className=\"text-gray-700\">Moderate</span>\r\n                    </div>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"edit-priority\"\r\n                        value=\"moderate\"\r\n                        checked={editForm.priority === \"moderate\"}\r\n                        onChange={(e) =>\r\n                          setEditForm((p) => ({\r\n                            ...p,\r\n                            priority: e.target.value as any,\r\n                          }))\r\n                        }\r\n                        className=\"sr-only\"\r\n                      />\r\n                      <div\r\n                        className={`w-5 h-5 border-2 rounded flex items-center justify-center ${\r\n                          editForm.priority === \"moderate\"\r\n                            ? \"border-green-500 bg-green-500\"\r\n                            : \"border-gray-300 bg-white\"\r\n                        }`}\r\n                      >\r\n                        {editForm.priority === \"moderate\" && (\r\n                          <svg\r\n                            className=\"w-3 h-3 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth=\"3\"\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition\">\r\n                    <div className=\"flex items-center gap-2 flex-1\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-yellow-500\"></div>\r\n                      <span className=\"text-gray-700\">Low</span>\r\n                    </div>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"edit-priority\"\r\n                        value=\"low\"\r\n                        checked={editForm.priority === \"low\"}\r\n                        onChange={(e) =>\r\n                          setEditForm((p) => ({\r\n                            ...p,\r\n                            priority: e.target.value as any,\r\n                          }))\r\n                        }\r\n                        className=\"sr-only\"\r\n                      />\r\n                      <div\r\n                        className={`w-5 h-5 border-2 rounded flex items-center justify-center ${\r\n                          editForm.priority === \"low\"\r\n                            ? \"border-yellow-500 bg-yellow-500\"\r\n                            : \"border-gray-300 bg-white\"\r\n                        }`}\r\n                      >\r\n                        {editForm.priority === \"low\" && (\r\n                          <svg\r\n                            className=\"w-3 h-3 text-white\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth=\"3\"\r\n                              d=\"M5 13l4 4L19 7\"\r\n                            />\r\n                          </svg>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Task Description\r\n                </label>\r\n                <textarea\r\n                  rows={6}\r\n                  value={editForm.description}\r\n                  onChange={(e) =>\r\n                    setEditForm((p) => ({ ...p, description: e.target.value }))\r\n                  }\r\n                  className=\"w-full border border-gray-300 rounded-lg px-4 py-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  placeholder=\"Start writing here......\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between mt-8\">\r\n              <button\r\n                onClick={handleSaveEdit}\r\n                className=\"px-8 py-3 rounded-lg bg-[#5272FF] text-white font-medium hover:bg-[#4262EF] transition\"\r\n              >\r\n                Save Changes\r\n              </button>\r\n              <button\r\n                onClick={() => setEditingTodo(null)}\r\n                className=\"p-3 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition\"\r\n                title=\"Cancel\"\r\n              >\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                >\r\n                  <path d=\"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;AAE1B;AACA;AAQA;AAOA;AACA;AACA;AACA;;;AApBA;;;;;;;;AAwCA;;6BAE6B,GAC7B,SAAS,aAAa,EACpB,IAAI,EACJ,MAAM,EACN,QAAQ,EACR,gBAAgB,EAMjB;;IACC,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,GAChE,IAAA,qLAAW,EAAC;QAAE,IAAI,KAAK,EAAE;IAAC;IAE5B,MAAM,QAAQ;QACZ,WAAW,+KAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC;IACF;IAEA,MAAM,iBAAiB;QACrB,SAAS;YACP,IAAI;YACJ,QAAQ;YACR,MAAM;YACN,OAAO;QACT;QACA,UAAU;YACR,IAAI;YACJ,QAAQ;YACR,MAAM;YACN,OAAO;QACT;QACA,KAAK;YACH,IAAI;YACJ,QAAQ;YACR,MAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,WAAW,KAAK,QAAQ,IAAI;IAClC,MAAM,SAAS,cAAc,CAAC,SAAS;IAEvC,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,YAAY,OAAO;QACxB,MAAM,OAAO,IAAI,KAAK;QACtB,MAAM,SAAS;YACb;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACD,OAAO,CAAC,IAAI,EACV,MAAM,CAAC,KAAK,QAAQ,GAAG,CACxB,CAAC,EAAE,KAAK,OAAO,GAAG,EAAE,EAAE,KAAK,WAAW,IAAI;IAC7C;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,OAAO;QACP,WAAU;;0BAGV,6LAAC;gBACE,GAAG,UAAU;gBACb,GAAG,SAAS;gBACb,WAAU;gBACV,OAAO;oBAAE,aAAa;gBAAO;;;;;;0BAI/B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAU;oBACV,SAAQ;oBACR,MAAK;oBACL,QAAO;oBACP,aAAY;8BAEZ,cAAA,6LAAC;wBACC,GAAE;wBACF,eAAc;wBACd,gBAAe;;;;;;;;;;;;;;;;0BAKrB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CACX,KAAK,KAAK;;;;;;0CAEb,6LAAC;gCAAE,WAAU;0CACV,KAAK,WAAW,IAAI;;;;;;;;;;;;kCAIzB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,WAAW,CAAC,kDAAkD,EAAE,OAAO,EAAE,CAAC,CAAC,EAAE,OAAO,MAAM,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC,8BAA8B,CAAC;;0DAEzI,6LAAC;gDAAI,WAAU;gDAAU,SAAQ;gDAAY,MAAK;0DAChD,cAAA,6LAAC;oDAAK,GAAE;;;;;;;;;;;4CAET,OAAO,KAAK;;;;;;;oCAGd,KAAK,SAAS,kBACb,6LAAC;wCAAK,WAAU;kDACb,WAAW,KAAK,SAAS;;;;;;;;;;;;0CAKhC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS,CAAC;4CACR,EAAE,eAAe;4CACjB,EAAE,cAAc;4CAChB,OAAO;wCACT;wCACA,aAAa,CAAC;4CACZ,EAAE,eAAe;4CACjB,EAAE,cAAc;wCAClB;wCACA,cAAc,CAAC;4CACb,EAAE,eAAe;wCACnB;wCACA,WAAU;wCACV,OAAM;kDAEN,cAAA,6LAAC;4CACC,WAAU;4CACV,SAAQ;4CACR,MAAK;4CACL,QAAO;4CACP,aAAY;;8DAEZ,6LAAC;oDAAK,GAAE;;;;;;8DACR,6LAAC;oDAAK,GAAE;;;;;;;;;;;;;;;;;kDAGZ,6LAAC;wCACC,SAAS,CAAC;4CACR,EAAE,eAAe;4CACjB,EAAE,cAAc;4CAChB,SAAS,OAAO,KAAK,EAAE;wCACzB;wCACA,aAAa,CAAC;4CACZ,EAAE,eAAe;4CACjB,EAAE,cAAc;wCAClB;wCACA,cAAc,CAAC;4CACb,EAAE,eAAe;wCACnB;wCACA,WAAU;wCACV,OAAM;kDAEN,cAAA,6LAAC;4CACC,WAAU;4CACV,SAAQ;4CACR,MAAK;4CACL,QAAO;4CACP,aAAY;sDAEZ,cAAA,6LAAC;gDAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQxB;GAvLS;;QAYL,qLAAW;;;KAZN;AA4LM,SAAS;;IACtB,MAAM,OAAO,IAAA,yIAAO;IACpB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAEzD,qCAAqC;IACrC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;QAC3C,OAAO;QACP,aAAa;QACb,UAAU;QACV,WAAW;IACb;IACA,MAAM,eAAe,IAAA,uKAAM,EAAmB;IAE9C,aAAa;IACb,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAc;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,OAAO;QACP,aAAa;QACb,UAAU;QACV,WAAW;IACb;IACA,MAAM,mBAAmB,IAAA,uKAAM,EAAmB;IAElD,MAAM,UAAU,IAAA,4KAAU,EACxB,IAAA,2KAAS,EAAC,+KAAa,EAAE;QACvB,sBAAsB;YACpB,UAAU;QACZ;IACF;IAGF,0BAA0B;IAC1B,MAAM,gBAAgB,IAAA,wKAAO;2CAAC;YAC5B,IAAI,WAAW;mBAAI;aAAM;YAEzB,gBAAgB;YAChB,IAAI,YAAY,IAAI,IAAI;gBACtB,MAAM,QAAQ,YAAY,WAAW;gBACrC,WAAW,SAAS,MAAM;uDACxB,CAAC,OACC,KAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,UAClC,KAAK,WAAW,EAAE,cAAc,SAAS;;YAE/C;YAEA,cAAc;YACd,IAAI,WAAW,MAAM,GAAG,GAAG;gBACzB,MAAM,QAAQ,IAAI;gBAClB,MAAM,QAAQ,CAAC,GAAG,GAAG,GAAG;gBAExB,WAAW,SAAS,MAAM;uDAAC,CAAC;wBAC1B,IAAI,CAAC,KAAK,SAAS,EAAE,OAAO;wBAC5B,MAAM,WAAW,IAAI,KAAK,KAAK,SAAS;wBACxC,SAAS,QAAQ,CAAC,GAAG,GAAG,GAAG;wBAE3B,OAAO,WAAW,IAAI;+DAAC,CAAC;gCACtB,IAAI,WAAW,SAAS;oCACtB,OAAO,SAAS,OAAO,OAAO,MAAM,OAAO;gCAC7C;gCACA,IAAI,WAAW,SAAS;oCACtB,MAAM,gBAAgB,IAAI,KAAK;oCAC/B,cAAc,OAAO,CAAC,MAAM,OAAO,KAAK;oCACxC,OAAO,YAAY,SAAS,YAAY;gCAC1C;gCACA,IAAI,WAAW,UAAU;oCACvB,MAAM,eAAe,IAAI,KAAK;oCAC9B,aAAa,OAAO,CAAC,MAAM,OAAO,KAAK;oCACvC,OAAO,YAAY,SAAS,YAAY;gCAC1C;gCACA,IAAI,WAAW,UAAU;oCACvB,MAAM,kBAAkB,IAAI,KAAK;oCACjC,gBAAgB,OAAO,CAAC,MAAM,OAAO,KAAK;oCAC1C,OAAO,YAAY,SAAS,YAAY;gCAC1C;gCACA,OAAO;4BACT;;oBACF;;YACF;YAEA,iDAAiD;YACjD,SAAS,IAAI;mDAAC,CAAC,GAAG,IAAM,CAAC,EAAE,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC;;YAE5D,OAAO;QACT;0CAAG;QAAC;QAAO;QAAa;KAAW;IAEnC,MAAM,mBAAmB,CAAC;QACxB,cAAc,CAAC,OACb,KAAK,QAAQ,CAAC,UACV,KAAK,MAAM,CAAC,CAAC,IAAM,MAAM,UACzB;mBAAI;gBAAM;aAAO;IAEzB;IAEA,uBAAuB;IACvB,IAAA,0KAAS;8BAAC;YACR,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,OAAO;gBAC/B,OAAO,IAAI,CAAC;gBACZ;YACF;QACF;6BAAG;QAAC;QAAM;KAAO;IAEjB,cAAc;IACd,IAAA,0KAAS;8BAAC;YACR,IAAI,CAAC,MAAM,OAAO;YAElB,IAAA,4HAAU,IACP,IAAI;sCAAC,CAAC;oBACL,MAAM,MAAM,MAAM,OAAO,CAAC,OAAO,MAAM,IAAI,OAAO,IAAI,EAAE;oBACxD,MAAM,SAAS,IAAI,IAAI;qDACrB,CAAC,GAAQ,IAAW,CAAC,EAAE,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC;;oBAE1D,SAAS;gBACX;qCACC,KAAK;sCAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,qBAAqB;oBACnC,SAAS,EAAE;gBACb;qCACC,OAAO;sCAAC,IAAM,WAAW;;QAC9B;6BAAG;QAAC,MAAM;KAAM;IAEhB,WAAW;IACX,MAAM,gBAAgB,OAAO;QAC3B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;QACzB,IAAI,CAAC,QAAQ,OAAO,EAAE,KAAK,KAAK,EAAE,EAAE;QAEpC,2CAA2C;QAC3C,MAAM,WAAW,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,EAAE;QAC1D,MAAM,WAAW,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;QAExD,IAAI,aAAa,CAAC,KAAK,aAAa,CAAC,GAAG;QAExC,0BAA0B;QAC1B,MAAM,UAAU,IAAA,mLAAS,EAAC,OAAO,UAAU;QAE3C,mCAAmC;QACnC,MAAM,cAAc,QAAQ,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;gBAChD,GAAG,IAAI;gBACP,UAAU,QAAQ;YACpB,CAAC;QAED,yCAAyC;QACzC,SAAS;QAET,IAAI;YACF,kCAAkC;YAClC,MAAM,IAAA,8HAAY,EAChB,YAAY,GAAG,CAAC,CAAC,IAAM,CAAC;oBACtB,IAAI,EAAE,EAAE;oBACR,UAAU,EAAE,QAAQ;gBACtB,CAAC;YAGH,2CAA2C;YAC3C,MAAM,MAAM,MAAM,IAAA,4HAAU;YAC5B,MAAM,MAAM,MAAM,OAAO,CAAC,OAAO,MAAM,IAAI,OAAO,IAAI,EAAE;YACxD,MAAM,SAAS,IAAI,IAAI,CACrB,CAAC,GAAQ,IAAW,CAAC,EAAE,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC;YAE1D,SAAS;QACX,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;YAChC,kBAAkB;YAClB,SAAS;QACX;IACF;IAEA,SAAS;IACT,MAAM,eAAe;QACnB,IAAI,CAAC,WAAW,KAAK,CAAC,IAAI,IAAI;QAC9B,MAAM,UAAU;YACd,OAAO,WAAW,KAAK,CAAC,IAAI;YAC5B,aAAa,WAAW,WAAW,CAAC,IAAI,MAAM;YAC9C,UAAU,WAAW,QAAQ;YAC7B,WAAW,WAAW,SAAS,IAAI;QACrC;QACA,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,4HAAU,EAAC;YAC7B,SAAS,CAAC,IAAM;oBAAC;uBAAQ;iBAAE;YAC3B,gBAAgB;YAChB,cAAc;gBACZ,OAAO;gBACP,aAAa;gBACb,UAAU;gBACV,WAAW;YACb;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,qBAAqB;QACrC;IACF;IAEA,SAAS;IACT,MAAM,eAAe,OAAO,IAAY;QACtC,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,4HAAU,EAAC,IAAI;YACjC,SAAS,CAAC,IAAM,EAAE,GAAG,CAAC,CAAC,IAAO,OAAO,EAAE,EAAE,MAAM,OAAO,MAAM,MAAM;YAClE,eAAe;QACjB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,qBAAqB;QACrC;IACF;IAEA,SAAS;IACT,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,IAAA,4HAAU,EAAC;YACjB,SAAS,CAAC,IAAM,EAAE,MAAM,CAAC,CAAC,IAAM,OAAO,EAAE,EAAE,MAAM,OAAO;QAC1D,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,qBAAqB;QACrC;IACF;IAEA,aAAa;IACb,MAAM,kBAAkB,CAAC;QACvB,eAAe;QACf,YAAY;YACV,OAAO,KAAK,KAAK,IAAI;YACrB,aAAa,KAAK,WAAW,IAAI;YACjC,UAAU,KAAK,QAAQ,IAAI;YAC3B,WAAW,KAAK,SAAS,GACrB,IAAI,KAAK,KAAK,SAAS,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GACpD;QACN;IACF;IAEA,YAAY;IACZ,MAAM,iBAAiB;QACrB,IAAI,CAAC,aAAa;QAClB,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI;QAC5B,MAAM,aAAa,OAAO,YAAY,EAAE,GAAG;YACzC,OAAO,SAAS,KAAK,CAAC,IAAI;YAC1B,aAAa,SAAS,WAAW,CAAC,IAAI,MAAM;YAC5C,UAAU,SAAS,QAAQ;YAC3B,WAAW,SAAS,SAAS,IAAI;QACnC;IACF;IAEA,kBAAkB;IAClB,MAAM,uBAAuB,OAAO;QAClC,MAAM,aAAa,OAAO,KAAK,EAAE,GAAG;YAAE,cAAc,CAAC,KAAK,YAAY;QAAC;IACzE;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;IAGxC;IAEA,qBACE,6LAAC;;0BAEC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAK;gCACL,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;0CAEhD,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,6LAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAY;wCACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAMV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS,IAAM,cAAc,CAAC;gCAC9B,WAAU;;kDAEV,6LAAC;kDAAK;;;;;;kDACN,6LAAC;wCACC,WAAW,CAAC,6BAA6B,EACvC,aAAa,eAAe,IAC5B;wCACF,MAAK;wCACL,QAAO;wCACP,SAAQ;kDAER,cAAA,6LAAC;4CACC,eAAc;4CACd,gBAAe;4CACf,aAAY;4CACZ,GAAE;;;;;;;;;;;;;;;;;4BAKP,4BACC;;kDACE,6LAAC;wCACC,WAAU;wCACV,SAAS,IAAM,cAAc;;;;;;kDAE/B,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAG,WAAU;0DAAmC;;;;;;0DACjD,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAM,WAAU;;0EACf,6LAAC;gEACC,MAAK;gEACL,SAAS,WAAW,QAAQ,CAAC;gEAC7B,UAAU,IAAM,iBAAiB;gEACjC,WAAU;;;;;;0EAEZ,6LAAC;gEAAK,WAAU;0EAAwB;;;;;;;;;;;;kEAI1C,6LAAC;wDAAM,WAAU;;0EACf,6LAAC;gEACC,MAAK;gEACL,SAAS,WAAW,QAAQ,CAAC;gEAC7B,UAAU,IAAM,iBAAiB;gEACjC,WAAU;;;;;;0EAEZ,6LAAC;gEAAK,WAAU;0EAAwB;;;;;;;;;;;;kEAI1C,6LAAC;wDAAM,WAAU;;0EACf,6LAAC;gEACC,MAAK;gEACL,SAAS,WAAW,QAAQ,CAAC;gEAC7B,UAAU,IAAM,iBAAiB;gEACjC,WAAU;;;;;;0EAEZ,6LAAC;gEAAK,WAAU;0EAAwB;;;;;;;;;;;;kEAI1C,6LAAC;wDAAM,WAAU;;0EACf,6LAAC;gEACC,MAAK;gEACL,SAAS,WAAW,QAAQ,CAAC;gEAC7B,UAAU,IAAM,iBAAiB;gEACjC,WAAU;;;;;;0EAEZ,6LAAC;gEAAK,WAAU;0EAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAUpD,6LAAC;wBACC,SAAS,IAAM,gBAAgB;wBAC/B,WAAU;kCACX;;;;;;;;;;;;0BAMH,6LAAC;gBAAI,WAAU;0BACZ,cAAc,MAAM,KAAK,kBACxB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,WAAU;wCACV,SAAQ;wCACR,MAAK;kDAEL,cAAA,6LAAC;4CACC,GAAE;4CACF,QAAO;4CACP,aAAY;4CACZ,eAAc;4CACd,gBAAe;;;;;;;;;;;kDAGnB,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CACC,WAAU;4CACV,MAAK;4CACL,QAAO;4CACP,SAAQ;sDAER,cAAA,6LAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAY;gDACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAMZ,6LAAC;4BAAG,WAAU;sCAAsC;;;;;;sCAGpD,6LAAC;4BAAE,WAAU;sCAAe;;;;;;;;;;;yCAK9B;;sCACE,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,4KAAU;gCACT,SAAS;gCACT,oBAAoB,gLAAc;gCAClC,WAAW;0CAEX,cAAA,6LAAC,yLAAe;oCACd,OAAO,cAAc,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;oCACpC,UAAU,6LAAmB;8CAE7B,cAAA,6LAAC;wCAAI,WAAU;kDACZ,cAAc,GAAG,CAAC,CAAC,qBAClB,6LAAC;gDAEC,MAAM;gDACN,QAAQ;gDACR,UAAU;gDACV,kBAAkB;+CAJb,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAgB7B,8BACC,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,gBAAgB;0BAE/B,cAAA,6LAAC;oBACC,WAAU;oBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;sCAEjC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAuC;;;;;;8CAGrD,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCACC,SAAS,IAAM,gBAAgB;oCAC/B,WAAU;8CACX;;;;;;;;;;;;sCAKH,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CACC,OAAO,WAAW,KAAK;4CACvB,UAAU,CAAC,IACT,cAAc,CAAC,IAAM,CAAC;wDAAE,GAAG,CAAC;wDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oDAAC,CAAC;4CAEvD,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,KAAK;oDACL,MAAK;oDACL,OAAO,WAAW,SAAS;oDAC3B,UAAU,CAAC,IACT,cAAc,CAAC,IAAM,CAAC;gEACpB,GAAG,CAAC;gEACJ,WAAW,EAAE,MAAM,CAAC,KAAK;4DAC3B,CAAC;oDAEH,WAAU;;;;;;8DAEZ,6LAAC;oDACC,MAAK;oDACL,SAAS,IAAM,aAAa,OAAO,EAAE;oDACrC,WAAU;8DAEV,cAAA,6LAAC;wDACC,WAAU;wDACV,MAAK;wDACL,QAAO;wDACP,SAAQ;kEAER,cAAA,6LAAC;4DACC,eAAc;4DACd,gBAAe;4DACf,aAAY;4DACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAOZ,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;;sEACf,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAI,WAAU;;;;;;8EACf,6LAAC;oEAAK,WAAU;8EAAgB;;;;;;;;;;;;sEAElC,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAM;oEACN,SAAS,WAAW,QAAQ,KAAK;oEACjC,UAAU,CAAC,IACT,cAAc,CAAC,IAAM,CAAC;gFACpB,GAAG,CAAC;gFACJ,UAAU,EAAE,MAAM,CAAC,KAAK;4EAC1B,CAAC;oEAEH,WAAU;;;;;;8EAEZ,6LAAC;oEACC,WAAW,CAAC,0DAA0D,EACpE,WAAW,QAAQ,KAAK,YACpB,8BACA,4BACJ;8EAED,WAAW,QAAQ,KAAK,2BACvB,6LAAC;wEACC,WAAU;wEACV,MAAK;wEACL,QAAO;wEACP,SAAQ;kFAER,cAAA,6LAAC;4EACC,eAAc;4EACd,gBAAe;4EACf,aAAY;4EACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;8DAQd,6LAAC;oDAAM,WAAU;;sEACf,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAI,WAAU;;;;;;8EACf,6LAAC;oEAAK,WAAU;8EAAgB;;;;;;;;;;;;sEAElC,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAM;oEACN,SAAS,WAAW,QAAQ,KAAK;oEACjC,UAAU,CAAC,IACT,cAAc,CAAC,IAAM,CAAC;gFACpB,GAAG,CAAC;gFACJ,UAAU,EAAE,MAAM,CAAC,KAAK;4EAC1B,CAAC;oEAEH,WAAU;;;;;;8EAEZ,6LAAC;oEACC,WAAW,CAAC,0DAA0D,EACpE,WAAW,QAAQ,KAAK,aACpB,kCACA,4BACJ;8EAED,WAAW,QAAQ,KAAK,4BACvB,6LAAC;wEACC,WAAU;wEACV,MAAK;wEACL,QAAO;wEACP,SAAQ;kFAER,cAAA,6LAAC;4EACC,eAAc;4EACd,gBAAe;4EACf,aAAY;4EACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;8DAQd,6LAAC;oDAAM,WAAU;;sEACf,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAI,WAAU;;;;;;8EACf,6LAAC;oEAAK,WAAU;8EAAgB;;;;;;;;;;;;sEAElC,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAM;oEACN,SAAS,WAAW,QAAQ,KAAK;oEACjC,UAAU,CAAC,IACT,cAAc,CAAC,IAAM,CAAC;gFACpB,GAAG,CAAC;gFACJ,UAAU,EAAE,MAAM,CAAC,KAAK;4EAC1B,CAAC;oEAEH,WAAU;;;;;;8EAEZ,6LAAC;oEACC,WAAW,CAAC,0DAA0D,EACpE,WAAW,QAAQ,KAAK,QACpB,oCACA,4BACJ;8EAED,WAAW,QAAQ,KAAK,uBACvB,6LAAC;wEACC,WAAU;wEACV,MAAK;wEACL,QAAO;wEACP,SAAQ;kFAER,cAAA,6LAAC;4EACC,eAAc;4EACd,gBAAe;4EACf,aAAY;4EACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAUlB,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CACC,MAAM;4CACN,OAAO,WAAW,WAAW;4CAC7B,UAAU,CAAC,IACT,cAAc,CAAC,IAAM,CAAC;wDACpB,GAAG,CAAC;wDACJ,aAAa,EAAE,MAAM,CAAC,KAAK;oDAC7B,CAAC;4CAEH,WAAU;4CACV,aAAY;;;;;;;;;;;;;;;;;;sCAKlB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;wCACP,gBAAgB;wCAChB,cAAc;4CACZ,OAAO;4CACP,aAAa;4CACb,UAAU;4CACV,WAAW;wCACb;oCACF;oCACA,WAAU;oCACV,OAAM;8CAEN,cAAA,6LAAC;wCACC,WAAU;wCACV,SAAQ;wCACR,MAAK;wCACL,QAAO;wCACP,aAAY;kDAEZ,cAAA,6LAAC;4CAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YASnB,6BACC,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,eAAe;0BAE9B,cAAA,6LAAC;oBACC,WAAU;oBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;sCAEjC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAuC;;;;;;8CAGrD,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCACC,SAAS,IAAM,eAAe;oCAC9B,WAAU;8CACX;;;;;;;;;;;;sCAKH,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CACC,OAAO,SAAS,KAAK;4CACrB,UAAU,CAAC,IACT,YAAY,CAAC,IAAM,CAAC;wDAAE,GAAG,CAAC;wDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;oDAAC,CAAC;4CAErD,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,KAAK;oDACL,MAAK;oDACL,OAAO,SAAS,SAAS;oDACzB,UAAU,CAAC,IACT,YAAY,CAAC,IAAM,CAAC;gEAAE,GAAG,CAAC;gEAAE,WAAW,EAAE,MAAM,CAAC,KAAK;4DAAC,CAAC;oDAEzD,WAAU;;;;;;8DAEZ,6LAAC;oDACC,MAAK;oDACL,SAAS,IAAM,iBAAiB,OAAO,EAAE;oDACzC,WAAU;8DAEV,cAAA,6LAAC;wDACC,WAAU;wDACV,MAAK;wDACL,QAAO;wDACP,SAAQ;kEAER,cAAA,6LAAC;4DACC,eAAc;4DACd,gBAAe;4DACf,aAAY;4DACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAOZ,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;;sEACf,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAI,WAAU;;;;;;8EACf,6LAAC;oEAAK,WAAU;8EAAgB;;;;;;;;;;;;sEAElC,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAM;oEACN,SAAS,SAAS,QAAQ,KAAK;oEAC/B,UAAU,CAAC,IACT,YAAY,CAAC,IAAM,CAAC;gFAClB,GAAG,CAAC;gFACJ,UAAU,EAAE,MAAM,CAAC,KAAK;4EAC1B,CAAC;oEAEH,WAAU;;;;;;8EAEZ,6LAAC;oEACC,WAAW,CAAC,0DAA0D,EACpE,SAAS,QAAQ,KAAK,YAClB,8BACA,4BACJ;8EAED,SAAS,QAAQ,KAAK,2BACrB,6LAAC;wEACC,WAAU;wEACV,MAAK;wEACL,QAAO;wEACP,SAAQ;kFAER,cAAA,6LAAC;4EACC,eAAc;4EACd,gBAAe;4EACf,aAAY;4EACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;8DAQd,6LAAC;oDAAM,WAAU;;sEACf,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAI,WAAU;;;;;;8EACf,6LAAC;oEAAK,WAAU;8EAAgB;;;;;;;;;;;;sEAElC,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAM;oEACN,SAAS,SAAS,QAAQ,KAAK;oEAC/B,UAAU,CAAC,IACT,YAAY,CAAC,IAAM,CAAC;gFAClB,GAAG,CAAC;gFACJ,UAAU,EAAE,MAAM,CAAC,KAAK;4EAC1B,CAAC;oEAEH,WAAU;;;;;;8EAEZ,6LAAC;oEACC,WAAW,CAAC,0DAA0D,EACpE,SAAS,QAAQ,KAAK,aAClB,kCACA,4BACJ;8EAED,SAAS,QAAQ,KAAK,4BACrB,6LAAC;wEACC,WAAU;wEACV,MAAK;wEACL,QAAO;wEACP,SAAQ;kFAER,cAAA,6LAAC;4EACC,eAAc;4EACd,gBAAe;4EACf,aAAY;4EACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;8DAQd,6LAAC;oDAAM,WAAU;;sEACf,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAI,WAAU;;;;;;8EACf,6LAAC;oEAAK,WAAU;8EAAgB;;;;;;;;;;;;sEAElC,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,MAAK;oEACL,MAAK;oEACL,OAAM;oEACN,SAAS,SAAS,QAAQ,KAAK;oEAC/B,UAAU,CAAC,IACT,YAAY,CAAC,IAAM,CAAC;gFAClB,GAAG,CAAC;gFACJ,UAAU,EAAE,MAAM,CAAC,KAAK;4EAC1B,CAAC;oEAEH,WAAU;;;;;;8EAEZ,6LAAC;oEACC,WAAW,CAAC,0DAA0D,EACpE,SAAS,QAAQ,KAAK,QAClB,oCACA,4BACJ;8EAED,SAAS,QAAQ,KAAK,uBACrB,6LAAC;wEACC,WAAU;wEACV,MAAK;wEACL,QAAO;wEACP,SAAQ;kFAER,cAAA,6LAAC;4EACC,eAAc;4EACd,gBAAe;4EACf,aAAY;4EACZ,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAUlB,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CACC,MAAM;4CACN,OAAO,SAAS,WAAW;4CAC3B,UAAU,CAAC,IACT,YAAY,CAAC,IAAM,CAAC;wDAAE,GAAG,CAAC;wDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;oDAAC,CAAC;4CAE3D,WAAU;4CACV,aAAY;;;;;;;;;;;;;;;;;;sCAKlB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS,IAAM,eAAe;oCAC9B,WAAU;oCACV,OAAM;8CAEN,cAAA,6LAAC;wCACC,WAAU;wCACV,SAAQ;wCACR,MAAK;wCACL,QAAO;wCACP,aAAY;kDAEZ,cAAA,6LAAC;4CAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1B;IAx9BwB;;QACT,yIAAO;QACL,kJAAS;QA2BR,4KAAU;;;MA7BJ"}},
    {"offset": {"line": 2214, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\n\r\nexport function ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!auth?.user || !auth?.token) {\r\n      router.push(\"/login\");\r\n    }\r\n  }, [auth, router]);\r\n\r\n  if (!auth?.user || !auth?.token) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS,eAAe,EAAE,QAAQ,EAAiC;;IACxE,MAAM,OAAO,IAAA,yIAAO;IACpB,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACR,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,OAAO;gBAC/B,OAAO,IAAI,CAAC;YACd;QACF;mCAAG;QAAC;QAAM;KAAO;IAEjB,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,OAAO;QAC/B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;;;;;;IAI/B;IAEA,qBAAO;kBAAG;;AACZ;GArBgB;;QACD,yIAAO;QACL,kJAAS;;;KAFV"}},
    {"offset": {"line": 2286, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/content/menuItemData.ts"],"sourcesContent":["import { menuItemType } from \"@/types/menuItemType\";\r\n\r\nconst MenuData: menuItemType[] = [\r\n  {\r\n    path: \"/dashboard\",\r\n    label: \"Dashboard\",\r\n    icon: \"/images/dashboard/mytask.png\",\r\n  },\r\n  {\r\n    path: \"/todos\",\r\n    label: \"Todos\",\r\n    icon: \"/images/dashboard/todos.png\",\r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    label: \"Account Information\",\r\n    icon: \"/images/dashboard/info.png\",\r\n  },\r\n];\r\nexport default MenuData;\r\n"],"names":[],"mappings":";;;;AAEA,MAAM,WAA2B;IAC/B;QACE,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,MAAM;IACR;CACD;uCACc"}},
    {"offset": {"line": 2315, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/DashboardLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport { ProtectedRoute } from \"./ProtectedRoute\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getProfile } from \"@/lib/auth\";\r\nimport Image from \"next/image\";\r\nimport MenuData from \"@/content/menuItemData\";\r\n\r\ninterface DashboardLayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function DashboardLayout({ children }: DashboardLayoutProps) {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const auth = useAuth();\r\n  const [profile, setProfile] = useState<any>(null);\r\n  const [currentDate, setCurrentDate] = useState(\"\");\r\n  const [formattedDate, setCurrentday] = useState(\"\");\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const date = new Date();\r\n    const days = [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\",\r\n    ];\r\n    const dayName = days[date.getDay()];\r\n    const formattedDate = date.toLocaleDateString(\"en-GB\", {\r\n      day: \"2-digit\",\r\n      month: \"2-digit\",\r\n      year: \"numeric\",\r\n    });\r\n    setCurrentDate(dayName);\r\n    setCurrentday(formattedDate);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (auth?.token) {\r\n      getProfile()\r\n        .then((data) => {\r\n          setProfile(data);\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"Failed to fetch profile:\", err);\r\n        });\r\n    }\r\n  }, [auth?.token]);\r\n\r\n  const handleLogout = () => {\r\n    if (auth) {\r\n      auth.logout();\r\n      router.push(\"/login\");\r\n    }\r\n  };\r\n\r\n  const isActive = (path: string) => {\r\n    return pathname === path;\r\n  };\r\n  console.log(profile);\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"min-h-screen bg-[#E2ECF8] flex flex-col\">\r\n        <div className=\"flex flex-1 relative\">\r\n          {/* Mobile Sidebar Overlay */}\r\n          {sidebarOpen && (\r\n            <div\r\n              className=\"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden\"\r\n              onClick={() => setSidebarOpen(false)}\r\n            />\r\n          )}\r\n\r\n          {/* Sidebar */}\r\n          <aside\r\n            className={`fixed md:static inset-y-0 left-0 z-50 w-64 bg-[#0D224A] text-white flex flex-col transform transition-transform duration-300 ease-in-out ${\r\n              sidebarOpen\r\n                ? \"translate-x-0\"\r\n                : \"-translate-x-full md:translate-x-0\"\r\n            }`}\r\n          >\r\n            {/* Profile Section */}\r\n            <div className=\"p-4  \">\r\n              <div className=\"flex items-center justify-between mb-4 md:mb-0 md:flex-col\">\r\n                <div className=\"flex items-center gap-3 md:flex-col mt-15\">\r\n                  <div className=\"w-12 h-12 md:w-20 md:h-20 bg-gray-400 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0\">\r\n                    {profile?.profile_image ? (\r\n                      <img\r\n                        src={profile.profile_image}\r\n                        alt=\"Profile\"\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <span className=\"text-xl md:text-3xl\"></span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-left md:text-center\">\r\n                    <p className=\"font-semibold text-sm md:text-lg\">\r\n                      {profile?.first_name?.split(\" \")[0] || \"User\"}\r\n                    </p>\r\n                    <p className=\"text-xs md:text-sm text-blue-200 mt-1 hidden md:block\">\r\n                      {auth?.user?.email || \"\"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {/* Close button for mobile */}\r\n                <button\r\n                  onClick={() => setSidebarOpen(false)}\r\n                  className=\"md:hidden text-white hover:text-gray-300 p-2\"\r\n                >\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M6 18L18 6M6 6l12 12\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <nav className=\"flex-1 overflow-y-auto mt-10\">\r\n              <ul className=\"space-y-2 \">\r\n                {MenuData.map((item) => (\r\n                  <li key={item.path}>\r\n                    <button\r\n                      onClick={() => {\r\n                        router.push(item.path);\r\n                        setSidebarOpen(false);\r\n                      }}\r\n                      className={`w-full flex items-center gap-3 px-8 py-4 transition-colors text-sm md:text-base ${\r\n                        isActive(item.path)\r\n                          ? \"bg-linear-to-r from-[#1D3575] to-transparent \"\r\n                          : \"text-blue-200\"\r\n                      }`}\r\n                    >\r\n                      <Image\r\n                        src={item.icon}\r\n                        alt=\"logo\"\r\n                        height={20}\r\n                        width={20}\r\n                      />\r\n                      <span className=\"font-medium\">{item.label}</span>\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </nav>\r\n\r\n            {/* Logout */}\r\n            <div className=\"p-3 \">\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"w-full flex items-center gap-2 md:gap-3 px-3 md:px-4 py-2 md:py-3 rounded-lg text-blue-200  text-sm md:text-base\"\r\n              >\r\n                <Image\r\n                  src=\"/images/dashboard/logout.png\"\r\n                  alt=\"logo\"\r\n                  height={20}\r\n                  width={20}\r\n                />\r\n                <span className=\"font-medium\">Logout</span>\r\n              </button>\r\n            </div>\r\n          </aside>\r\n\r\n          {/* Main Content */}\r\n          <main className=\"flex-1 overflow-y-auto\">\r\n            <div className=\"w-full\">\r\n              {/* Header inside main content area */}\r\n              <header className=\"bg-white py-6 mb-6\">\r\n                <div className=\"flex items-center justify-between px-20\">\r\n                  {/* Mobile Menu Button - Left Side */}\r\n                  <button\r\n                    onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                    className=\"md:hidden absolute left-3 md:left-6 text-gray-600 hover:text-gray-800 p-2\"\r\n                  >\r\n                    <svg\r\n                      className=\"w-6 h-6\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M4 6h16M4 12h16M4 18h16\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n\r\n                  {/* Right Side Content */}\r\n\r\n                  <div className=\"\">\r\n                    <Image\r\n                      src=\"/images/dashboard/logo.png\"\r\n                      alt=\"logo\"\r\n                      height={105}\r\n                      width={100}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex items-center gap-4 \">\r\n                    <Image\r\n                      src=\"/images/dashboard/notifications.png\"\r\n                      alt=\"logo\"\r\n                      height={35}\r\n                      width={35}\r\n                    />\r\n                    <button className=\"hidden md:block text-gray-600 hover:text-gray-800\">\r\n                      <Image\r\n                        src=\"/images/dashboard/cal.png\"\r\n                        alt=\"logo\"\r\n                        height={35}\r\n                        width={35}\r\n                      />\r\n                    </button>\r\n\r\n                    <div className=\"flex flex-col gap-0\">\r\n                      <span className=\"text-[#0D224A] font-medium text-[14px]\">\r\n                        {currentDate}\r\n                      </span>\r\n                      <span className=\"text-[#0D224A] font-medium text-[14px]\">\r\n                        {formattedDate}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </header>\r\n\r\n              {children}\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}