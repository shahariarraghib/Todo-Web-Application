{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/apiHook.ts"],"sourcesContent":["import axios from \"axios\";\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"https://todo-app.pioneeralpha.com\";\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport const setAuthToken = (token?: string) => {\r\n  if (token) api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  else delete api.defaults.headers.common[\"Authorization\"];\r\n};\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;;;AACiB;AADjB;;AACA,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,oBAAoB,IAAI;AAErD,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEO,MAAM,eAAe,CAAC;IAC3B,IAAI,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;SACtE,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,gBAAgB;AAC1D;uCAEe"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\r\nimport api, { setAuthToken } from \"./apiHook\";\r\n\r\nconst TOKEN_KEY = \"todo_token\";\r\n\r\nexport const saveToken = (token: string) => {\r\n  localStorage.setItem(TOKEN_KEY, token);\r\n  setAuthToken(token);\r\n};\r\n\r\nexport const loadToken = () => {\r\n  const t = localStorage.getItem(TOKEN_KEY);\r\n  if (t) setAuthToken(t);\r\n  return t;\r\n};\r\n\r\nexport const clearToken = () => {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  setAuthToken(undefined);\r\n};\r\n\r\n// API calls matching Django backend endpoints\r\nexport const signup = async (data: {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/signup/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const login = async (data: { email: string; password: string }) => {\r\n  // API uses email field for login\r\n  const res = await api.post(\"/api/auth/login/\", {\r\n    email: data.email,\r\n    password: data.password,\r\n  });\r\n  // Django JWT returns { access: \"...\", refresh: \"...\" }\r\n  return res.data;\r\n};\r\n\r\nexport const refreshToken = async (refresh: string) => {\r\n  const res = await api.post(\"/api/auth/refresh/\", { refresh });\r\n  return res.data;\r\n};\r\n\r\nexport const getProfile = async () => {\r\n  const res = await api.get(\"/api/users/me/\");\r\n  return res.data;\r\n};\r\n\r\nexport const changePassword = async (data: {\r\n  old_password: string;\r\n  new_password: string;\r\n}) => {\r\n  const res = await api.post(\"/api/users/change-password/\", data);\r\n  return res.data;\r\n};\r\n\r\nexport const fetchTodos = async () => {\r\n  const res = await api.get(\"/api/todos/\");\r\n  // API returns paginated response with results array\r\n  return res.data.results || res.data;\r\n};\r\n\r\nexport const createTodo = async (payload: {\r\n  title: string;\r\n  description?: string;\r\n  priority?: \"extreme\" | \"moderate\" | \"low\";\r\n  todo_date?: string;\r\n}) => {\r\n  const res = await api.post(\"/api/todos/\", payload);\r\n  return res.data;\r\n};\r\n\r\nexport const updateTodo = async (id: string, payload: any) => {\r\n  const res = await api.patch(`/api/todos/${id}/`, payload);\r\n  return res.data;\r\n};\r\n\r\nexport const deleteTodo = async (id: string) => {\r\n  const res = await api.delete(`/api/todos/${id}/`);\r\n  return res.data;\r\n};\r\n\r\n// Reorder todos by updating position field\r\nexport const reorderTodos = async (todos: Array<{ id: string | number; position: number }>) => {\r\n  // Update each todo's position\r\n  const promises = todos.map((todo, index) =>\r\n    updateTodo(String(todo.id), { position: index + 1 })\r\n  );\r\n  await Promise.all(promises);\r\n};\r\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACd;;AAEA,MAAM,YAAY;AAEX,MAAM,YAAY,CAAC;IACxB,aAAa,OAAO,CAAC,WAAW;IAChC,IAAA,iIAAY,EAAC;AACf;AAEO,MAAM,YAAY;IACvB,MAAM,IAAI,aAAa,OAAO,CAAC;IAC/B,IAAI,GAAG,IAAA,iIAAY,EAAC;IACpB,OAAO;AACT;AAEO,MAAM,aAAa;IACxB,aAAa,UAAU,CAAC;IACxB,IAAA,iIAAY,EAAC;AACf;AAGO,MAAM,SAAS,OAAO;IAM3B,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,sBAAsB;IACjD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,QAAQ,OAAO;IAC1B,iCAAiC;IACjC,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,oBAAoB;QAC7C,OAAO,KAAK,KAAK;QACjB,UAAU,KAAK,QAAQ;IACzB;IACA,uDAAuD;IACvD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,sBAAsB;QAAE;IAAQ;IAC3D,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa;IACxB,MAAM,MAAM,MAAM,4HAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,iBAAiB,OAAO;IAInC,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,+BAA+B;IAC1D,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa;IACxB,MAAM,MAAM,MAAM,4HAAG,CAAC,GAAG,CAAC;IAC1B,oDAAoD;IACpD,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI;AACrC;AAEO,MAAM,aAAa,OAAO;IAM/B,MAAM,MAAM,MAAM,4HAAG,CAAC,IAAI,CAAC,eAAe;IAC1C,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO,IAAY;IAC3C,MAAM,MAAM,MAAM,4HAAG,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,EAAE;IACjD,OAAO,IAAI,IAAI;AACjB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,MAAM,MAAM,4HAAG,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;IAChD,OAAO,IAAI,IAAI;AACjB;AAGO,MAAM,eAAe,OAAO;IACjC,8BAA8B;IAC9B,MAAM,WAAW,MAAM,GAAG,CAAC,CAAC,MAAM,QAChC,WAAW,OAAO,KAAK,EAAE,GAAG;YAAE,UAAU,QAAQ;QAAE;IAEpD,MAAM,QAAQ,GAAG,CAAC;AACpB"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/TodoList.tsx"],"sourcesContent":["// components/TodoList.tsx\r\n\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { DndContext, closestCenter, PointerSensor, useSensor, useSensors } from \"@dnd-kit/core\";\r\nimport {\r\n  arrayMove,\r\n  SortableContext,\r\n  verticalListSortingStrategy,\r\n  useSortable,\r\n} from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\nimport {\r\n  fetchTodos,\r\n  createTodo,\r\n  updateTodo,\r\n  deleteTodo,\r\n  reorderTodos,\r\n} from \"../lib/auth\"; // or lib/apiClient functions\r\n\r\ntype Todo = {\r\n  id: string | number;\r\n  title: string;\r\n  description?: string;\r\n  priority?: \"extreme\" | \"moderate\" | \"low\";\r\n  is_completed?: boolean;\r\n  position?: number;\r\n  todo_date?: string;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n};\r\n\r\nfunction SortableItem({ todo, onEdit, onDelete }: { todo: Todo; onEdit: (t: Todo) => void; onDelete: (id: string) => void }) {\r\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ id: todo.id });\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n  };\r\n\r\n  const priorityColors = {\r\n    extreme: \"bg-red-100 text-red-800\",\r\n    moderate: \"bg-yellow-100 text-yellow-800\",\r\n    low: \"bg-green-100 text-green-800\",\r\n  };\r\n\r\n  return (\r\n    <div ref={setNodeRef} style={style} className={`p-3 bg-white rounded shadow mb-2 flex justify-between items-center ${todo.is_completed ? \"opacity-60\" : \"\"}`}>\r\n      <div {...attributes} {...listeners} className=\"cursor-grab flex-1\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className={`font-medium ${todo.is_completed ? \"line-through\" : \"\"}`}>\r\n            {todo.title}\r\n          </div>\r\n          {todo.priority && (\r\n            <span className={`text-xs px-2 py-1 rounded ${priorityColors[todo.priority] || priorityColors.moderate}`}>\r\n              {todo.priority}\r\n            </span>\r\n          )}\r\n          {todo.is_completed && (\r\n            <span className=\"text-xs px-2 py-1 rounded bg-green-100 text-green-800\">\r\n              Completed\r\n            </span>\r\n          )}\r\n        </div>\r\n        {todo.description && (\r\n          <div className=\"text-sm text-slate-500 mt-1\">{todo.description}</div>\r\n        )}\r\n        {todo.todo_date && (\r\n          <div className=\"text-xs text-slate-400 mt-1\">\r\n            Date: {new Date(todo.todo_date).toLocaleDateString()}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"flex gap-2\">\r\n        <button\r\n          onClick={() => onEdit(todo)}\r\n          className=\"text-xs px-2 py-1 border rounded hover:bg-gray-100\"\r\n        >\r\n          Edit\r\n        </button>\r\n        <button\r\n          onClick={() => onDelete(String(todo.id))}\r\n          className=\"text-xs px-2 py-1 border rounded hover:bg-red-50 text-red-600\"\r\n        >\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function TodoList() {\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n  const [todos, setTodos] = useState<Todo[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const sensors = useSensors(useSensor(PointerSensor));\r\n\r\n  // Check authentication on mount\r\n  useEffect(() => {\r\n    if (!auth?.user || !auth?.token) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n  }, [auth, router]);\r\n\r\n  useEffect(() => {\r\n    // Only fetch todos if user is authenticated\r\n    if (!auth?.user || !auth?.token) return;\r\n    \r\n    fetchTodos().then((res) => {\r\n      // API returns array directly or in results\r\n      const todosArray = Array.isArray(res) ? res : (res.results || []);\r\n      // Sort by position if available\r\n      const sortedTodos = todosArray.sort((a: Todo, b: Todo) => \r\n        (a.position || 0) - (b.position || 0)\r\n      );\r\n      setTodos(sortedTodos);\r\n    }).catch((err) => {\r\n      console.error(\"Failed to fetch todos:\", err);\r\n      setTodos([]);\r\n    }).finally(()=>setLoading(false));\r\n  }, [auth?.user, auth?.token]);\r\n\r\n  const handleDragEnd = async (event: any) => {\r\n    const { active, over } = event;\r\n    if (active.id !== over?.id) {\r\n      const oldIndex = todos.findIndex((t) => t.id === active.id);\r\n      const newIndex = todos.findIndex((t) => t.id === over.id);\r\n      const newTodos = arrayMove(todos, oldIndex, newIndex);\r\n      setTodos(newTodos);\r\n      // Update position for each todo\r\n      try {\r\n        await reorderTodos(newTodos.map((todo, index) => ({\r\n          id: todo.id,\r\n          position: index + 1\r\n        })));\r\n      } catch (err) {\r\n        console.error(\"Reorder failed, you might want to refetch or rollback.\", err);\r\n        // Refetch on error\r\n        fetchTodos().then((res) => {\r\n          const todosArray = Array.isArray(res) ? res : (res.results || []);\r\n          const sortedTodos = todosArray.sort((a: Todo, b: Todo) => \r\n            (a.position || 0) - (b.position || 0)\r\n          );\r\n          setTodos(sortedTodos);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCreate = async (title: string) => {\r\n    const res = await createTodo({ title });\r\n    setTodos((p) => [res, ...p]);\r\n  };\r\n\r\n  const handleUpdate = async (id: string, payload: Partial<Todo>) => {\r\n    const res = await updateTodo(id, payload);\r\n    setTodos((p) => p.map(t => t.id === id ? res : t));\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    await deleteTodo(id);\r\n    setTodos((p) => p.filter(t => t.id !== id));\r\n  };\r\n\r\n  // Show loading or redirect message if not authenticated\r\n  if (!auth?.user || !auth?.token) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg\">Please login to access your todos</p>\r\n          <p className=\"text-sm text-gray-500 mt-2\">Redirecting...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-4\">\r\n        <CreateTodo onCreate={handleCreate} />\r\n      </div>\r\n\r\n      <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\r\n        <SortableContext items={todos.map(t => t.id)} strategy={verticalListSortingStrategy}>\r\n          {todos.map(todo => (\r\n            <SortableItem key={todo.id} todo={todo} onEdit={(t)=>handleUpdate(String(t.id),t)} onDelete={handleDelete} />\r\n          ))}\r\n        </SortableContext>\r\n      </DndContext>\r\n    </div>\r\n  );\r\n}\r\n\r\n// small create component\r\nfunction CreateTodo({ onCreate }: { onCreate: (title: string) => void }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  return (\r\n    <form onSubmit={(e) => { e.preventDefault(); if (!title) return; onCreate(title); setTitle(\"\"); }} className=\"flex gap-2\">\r\n      <input value={title} onChange={(e)=>setTitle(e.target.value)} className=\"flex-1 p-2 border rounded\" placeholder=\"Add todo...\" />\r\n      <button type=\"submit\" className=\"px-4 py-2 rounded bg-blue-600 text-white\">Add</button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"./AuthProvider\";\r\n\r\nexport function ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n  const auth = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!auth?.user || !auth?.token) {\r\n      router.push(\"/login\");\r\n    }\r\n  }, [auth, router]);\r\n\r\n  if (!auth?.user || !auth?.token) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-lg\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS,eAAe,EAAE,QAAQ,EAAiC;;IACxE,MAAM,OAAO,IAAA,yIAAO;IACpB,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACR,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,OAAO;gBAC/B,OAAO,IAAI,CAAC;YACd;QACF;mCAAG;QAAC;QAAM;KAAO;IAEjB,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,OAAO;QAC/B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;;;;;;IAI/B;IAEA,qBAAO;kBAAG;;AACZ;GArBgB;;QACD,yIAAO;QACL,kJAAS;;;KAFV"}},
    {"offset": {"line": 590, "column": 0}, "map": {"version":3,"sources":["file:///D:/assessment%20for%20job/Todo%20Web%20Application/website/app/todos/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport TodoList from \"@/components/TodoList\";\r\nimport { ProtectedRoute } from \"@/components/ProtectedRoute\";\r\nimport { useAuth } from \"@/components/AuthProvider\";\r\n\r\nexport default function TodosPage() {\r\n  const router = useRouter();\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <ProtectedRoute>\r\n      <div className=\"container mx-auto p-4 max-w-2xl\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h1 className=\"text-3xl font-bold\">My Todos</h1>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => router.push(\"/profile\")}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\"\r\n            >\r\n              Profile\r\n            </button>\r\n            {auth?.user && (\r\n              <div className=\"px-4 py-2 bg-gray-100 rounded text-gray-700\">\r\n                {auth.user.name || auth.user.email}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <TodoList />\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,OAAO,IAAA,yIAAO;IAEpB,qBACE,6LAAC,kJAAc;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,OAAO,IAAI,CAAC;oCAC3B,WAAU;8CACX;;;;;;gCAGA,MAAM,sBACL,6LAAC;oCAAI,WAAU;8CACZ,KAAK,IAAI,CAAC,IAAI,IAAI,KAAK,IAAI,CAAC,KAAK;;;;;;;;;;;;;;;;;;8BAK1C,6LAAC,qIAAQ;;;;;;;;;;;;;;;;AAIjB;GA3BwB;;QACP,kJAAS;QACX,yIAAO;;;KAFE"}}]
}